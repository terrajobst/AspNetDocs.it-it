---
title: 'Integrazione continua e distribuzione: DevOps con ASP.NET Core e Azure'
author: CamSoper
description: Integrazione continua e distribuzione in DevOps con ASP.NET Core e Azure
ms.author: scaddie
ms.date: 10/24/2018
ms.custom: seodec18
uid: azure/devops/cicd
ms.openlocfilehash: e5bddde41291c9573f58d749bbf830de9ea9319d
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/01/2019
ms.locfileid: "57039328"
---
# <a name="continuous-integration-and-deployment"></a><span data-ttu-id="d60cc-103">Integrazione continua e distribuzione</span><span class="sxs-lookup"><span data-stu-id="d60cc-103">Continuous integration and deployment</span></span>

<span data-ttu-id="d60cc-104">Nel capitolo precedente, è stato creato un repository Git locale per l'app semplice lettore di Feed.</span><span class="sxs-lookup"><span data-stu-id="d60cc-104">In the previous chapter, you created a local Git repository for the Simple Feed Reader app.</span></span> <span data-ttu-id="d60cc-105">In questo capitolo verrà pubblicare tale codice in un repository GitHub e creare una pipeline di servizi di Azure DevOps con le pipeline di Azure.</span><span class="sxs-lookup"><span data-stu-id="d60cc-105">In this chapter, you'll publish that code to a GitHub repository and construct an Azure DevOps Services pipeline using Azure Pipelines.</span></span> <span data-ttu-id="d60cc-106">La pipeline consente le compilazioni continue e le distribuzioni dell'app.</span><span class="sxs-lookup"><span data-stu-id="d60cc-106">The pipeline enables continuous builds and deployments of the app.</span></span> <span data-ttu-id="d60cc-107">Qualsiasi commit al repository GitHub attiva una compilazione e una distribuzione in slot di staging dell'App Web di Azure.</span><span class="sxs-lookup"><span data-stu-id="d60cc-107">Any commit to the GitHub repository triggers a build and a deployment to the Azure Web App's staging slot.</span></span>

<span data-ttu-id="d60cc-108">In questa sezione, si completeranno le attività seguenti:</span><span class="sxs-lookup"><span data-stu-id="d60cc-108">In this section, you'll complete the following tasks:</span></span>

* <span data-ttu-id="d60cc-109">Pubblicare il codice dell'app in GitHub</span><span class="sxs-lookup"><span data-stu-id="d60cc-109">Publish the app's code to GitHub</span></span>
* <span data-ttu-id="d60cc-110">Disconnettere la distribuzione Git locale</span><span class="sxs-lookup"><span data-stu-id="d60cc-110">Disconnect local Git deployment</span></span>
* <span data-ttu-id="d60cc-111">Creazione di un'organizzazione di Azure DevOps</span><span class="sxs-lookup"><span data-stu-id="d60cc-111">Create an Azure DevOps organization</span></span>
* <span data-ttu-id="d60cc-112">Creare un progetto team in servizi di Azure DevOps</span><span class="sxs-lookup"><span data-stu-id="d60cc-112">Create a team project in Azure DevOps Services</span></span>
* <span data-ttu-id="d60cc-113">Creazione di una definizione di compilazione</span><span class="sxs-lookup"><span data-stu-id="d60cc-113">Create a build definition</span></span>
* <span data-ttu-id="d60cc-114">Creare una pipeline di rilascio</span><span class="sxs-lookup"><span data-stu-id="d60cc-114">Create a release pipeline</span></span>
* <span data-ttu-id="d60cc-115">Eseguire il commit delle modifiche a GitHub e distribuire automaticamente in Azure</span><span class="sxs-lookup"><span data-stu-id="d60cc-115">Commit changes to GitHub and automatically deploy to Azure</span></span>
* <span data-ttu-id="d60cc-116">Esaminare la pipeline della pipeline di Azure</span><span class="sxs-lookup"><span data-stu-id="d60cc-116">Examine the Azure Pipelines pipeline</span></span>

## <a name="publish-the-apps-code-to-github"></a><span data-ttu-id="d60cc-117">Pubblicare il codice dell'app in GitHub</span><span class="sxs-lookup"><span data-stu-id="d60cc-117">Publish the app's code to GitHub</span></span>

1. <span data-ttu-id="d60cc-118">Aprire una finestra del browser e passare a `https://github.com`.</span><span class="sxs-lookup"><span data-stu-id="d60cc-118">Open a browser window, and navigate to `https://github.com`.</span></span>
1. <span data-ttu-id="d60cc-119">Scegliere il **+** elenco a discesa nell'intestazione e selezionare **nuovo repository**:</span><span class="sxs-lookup"><span data-stu-id="d60cc-119">Click the **+** drop-down in the header, and select **New repository**:</span></span>

    ![Opzione nuovo Repository GitHub](media/cicd/github-new-repo.png)

1. <span data-ttu-id="d60cc-121">Selezionare il proprio account nel **proprietario** elenco a discesa e immettere *lettore di feed semplice* nel **nome del Repository** nella casella di testo.</span><span class="sxs-lookup"><span data-stu-id="d60cc-121">Select your account in the **Owner** drop-down, and enter *simple-feed-reader* in the **Repository name** textbox.</span></span>
1. <span data-ttu-id="d60cc-122">Scegliere il **crea repository** pulsante.</span><span class="sxs-lookup"><span data-stu-id="d60cc-122">Click the **Create repository** button.</span></span>
1. <span data-ttu-id="d60cc-123">Aprire shell dei comandi del computer locale.</span><span class="sxs-lookup"><span data-stu-id="d60cc-123">Open your local machine's command shell.</span></span> <span data-ttu-id="d60cc-124">Passare alla directory in cui il *lettore di feed semplice* è archiviato il repository Git.</span><span class="sxs-lookup"><span data-stu-id="d60cc-124">Navigate to the directory in which the *simple-feed-reader* Git repository is stored.</span></span>
1. <span data-ttu-id="d60cc-125">Rinominare l'oggetto esistente *origin* remota a *upstream*.</span><span class="sxs-lookup"><span data-stu-id="d60cc-125">Rename the existing *origin* remote to *upstream*.</span></span> <span data-ttu-id="d60cc-126">Eseguire il seguente comando:</span><span class="sxs-lookup"><span data-stu-id="d60cc-126">Execute the following command:</span></span>
    ```console
    git remote rename origin upstream
    ```
1. <span data-ttu-id="d60cc-127">Aggiungere un nuovo *origin* remota che puntano alla copia locale del repository in GitHub.</span><span class="sxs-lookup"><span data-stu-id="d60cc-127">Add a new *origin* remote pointing to your copy of the repository on GitHub.</span></span> <span data-ttu-id="d60cc-128">Eseguire il seguente comando:</span><span class="sxs-lookup"><span data-stu-id="d60cc-128">Execute the following command:</span></span>
    ```console
    git remote add origin https://github.com/<GitHub_username>/simple-feed-reader/
    ```
1. <span data-ttu-id="d60cc-129">Pubblicare il repository Git locale al repository GitHub appena creato.</span><span class="sxs-lookup"><span data-stu-id="d60cc-129">Publish your local Git repository to the newly created GitHub repository.</span></span> <span data-ttu-id="d60cc-130">Eseguire il seguente comando:</span><span class="sxs-lookup"><span data-stu-id="d60cc-130">Execute the following command:</span></span>
    ```console
    git push -u origin master
    ```
1. <span data-ttu-id="d60cc-131">Aprire una finestra del browser e passare a `https://github.com/<GitHub_username>/simple-feed-reader/`.</span><span class="sxs-lookup"><span data-stu-id="d60cc-131">Open a browser window, and navigate to `https://github.com/<GitHub_username>/simple-feed-reader/`.</span></span> <span data-ttu-id="d60cc-132">Convalida che viene visualizzato il codice nel repository GitHub.</span><span class="sxs-lookup"><span data-stu-id="d60cc-132">Validate that your code appears in the GitHub repository.</span></span>

## <a name="disconnect-local-git-deployment"></a><span data-ttu-id="d60cc-133">Disconnettere la distribuzione Git locale</span><span class="sxs-lookup"><span data-stu-id="d60cc-133">Disconnect local Git deployment</span></span>

<span data-ttu-id="d60cc-134">Rimuovere la distribuzione Git locale con i passaggi seguenti.</span><span class="sxs-lookup"><span data-stu-id="d60cc-134">Remove the local Git deployment with the following steps.</span></span> <span data-ttu-id="d60cc-135">Le pipeline di Azure, un servizio di Azure DevOps, sia sostituisce e aggiunge tale funzionalità.</span><span class="sxs-lookup"><span data-stu-id="d60cc-135">Azure Pipelines (an Azure DevOps service) both replaces and augments that functionality.</span></span>

1. <span data-ttu-id="d60cc-136">Aprire il [portale di Azure](https://portal.azure.com/)e passare al *di gestione temporanea (mywebapp\<unique_number\>/staging)* App Web.</span><span class="sxs-lookup"><span data-stu-id="d60cc-136">Open the [Azure portal](https://portal.azure.com/), and navigate to the *staging (mywebapp\<unique_number\>/staging)* Web App.</span></span> <span data-ttu-id="d60cc-137">L'App Web è possibile trovare rapidamente immettendo *staging* nella casella di ricerca del portale:</span><span class="sxs-lookup"><span data-stu-id="d60cc-137">The Web App can be quickly located by entering *staging* in the portal's search box:</span></span>

    ![il termine di ricerca di App Web di gestione temporanea](media/cicd/portal-search-box.png)

1. <span data-ttu-id="d60cc-139">Fare clic su **opzioni di distribuzione**.</span><span class="sxs-lookup"><span data-stu-id="d60cc-139">Click **Deployment options**.</span></span> <span data-ttu-id="d60cc-140">Viene visualizzato un nuovo pannello.</span><span class="sxs-lookup"><span data-stu-id="d60cc-140">A new panel appears.</span></span> <span data-ttu-id="d60cc-141">Fare clic su **Disconnect** per rimuovere la configurazione di controllo codice sorgente Git locale di che è stato aggiunto nel capitolo precedente.</span><span class="sxs-lookup"><span data-stu-id="d60cc-141">Click **Disconnect** to remove the local Git source control configuration that was added in the previous chapter.</span></span> <span data-ttu-id="d60cc-142">Confermare l'operazione di rimozione facendo il **Sì** pulsante.</span><span class="sxs-lookup"><span data-stu-id="d60cc-142">Confirm the removal operation by clicking the **Yes** button.</span></span>
1. <span data-ttu-id="d60cc-143">Passare il *mywebapp < unique_number >* servizio App.</span><span class="sxs-lookup"><span data-stu-id="d60cc-143">Navigate to the *mywebapp<unique_number>* App Service.</span></span> <span data-ttu-id="d60cc-144">Come promemoria, finestra di ricerca del portale è utilizzabile per individuare rapidamente il servizio App.</span><span class="sxs-lookup"><span data-stu-id="d60cc-144">As a reminder, the portal's search box can be used to quickly locate the App Service.</span></span>
1. <span data-ttu-id="d60cc-145">Fare clic su **opzioni di distribuzione**.</span><span class="sxs-lookup"><span data-stu-id="d60cc-145">Click **Deployment options**.</span></span> <span data-ttu-id="d60cc-146">Viene visualizzato un nuovo pannello.</span><span class="sxs-lookup"><span data-stu-id="d60cc-146">A new panel appears.</span></span> <span data-ttu-id="d60cc-147">Fare clic su **Disconnect** per rimuovere la configurazione di controllo codice sorgente Git locale di che è stato aggiunto nel capitolo precedente.</span><span class="sxs-lookup"><span data-stu-id="d60cc-147">Click **Disconnect** to remove the local Git source control configuration that was added in the previous chapter.</span></span> <span data-ttu-id="d60cc-148">Confermare l'operazione di rimozione facendo il **Sì** pulsante.</span><span class="sxs-lookup"><span data-stu-id="d60cc-148">Confirm the removal operation by clicking the **Yes** button.</span></span>

## <a name="create-an-azure-devops-organization"></a><span data-ttu-id="d60cc-149">Creazione di un'organizzazione di Azure DevOps</span><span class="sxs-lookup"><span data-stu-id="d60cc-149">Create an Azure DevOps organization</span></span>

1. <span data-ttu-id="d60cc-150">Aprire un browser e passare per il [pagina di creazione dell'organizzazione di Azure DevOps](https://go.microsoft.com/fwlink/?LinkId=307137).</span><span class="sxs-lookup"><span data-stu-id="d60cc-150">Open a browser, and navigate to the [Azure DevOps organization creation page](https://go.microsoft.com/fwlink/?LinkId=307137).</span></span>
1. <span data-ttu-id="d60cc-151">Digitare un nome univoco nel **scegliere un nome facile da ricordare** nella casella di testo per comporre l'URL per l'accesso dell'organizzazione di Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="d60cc-151">Type a unique name into the **Pick a memorable name** textbox to form the URL for accessing your Azure DevOps organization.</span></span>
1. <span data-ttu-id="d60cc-152">Selezionare il **Git** pulsante di opzione, poiché il codice è ospitato in un repository GitHub.</span><span class="sxs-lookup"><span data-stu-id="d60cc-152">Select the **Git** radio button, since the code is hosted in a GitHub repository.</span></span>
1. <span data-ttu-id="d60cc-153">Fare clic sul pulsante **Continue** (Continua).</span><span class="sxs-lookup"><span data-stu-id="d60cc-153">Click the **Continue** button.</span></span> <span data-ttu-id="d60cc-154">Dopo una breve attesa, un account e un progetto team, denominato *MyFirstProject*, vengono creati.</span><span class="sxs-lookup"><span data-stu-id="d60cc-154">After a short wait, an account and a team project, named *MyFirstProject*, are created.</span></span>

    ![Pagina di creazione di Azure DevOps dell'organizzazione](media/cicd/vsts-account-creation.png)

1. <span data-ttu-id="d60cc-156">Aprire il messaggio di posta elettronica di conferma che indica che l'organizzazione di Azure DevOps e progetto siano pronte per l'uso.</span><span class="sxs-lookup"><span data-stu-id="d60cc-156">Open the confirmation email indicating that the Azure DevOps organization and project are ready for use.</span></span> <span data-ttu-id="d60cc-157">Scegliere il **avvia il tuo progetto** pulsante:</span><span class="sxs-lookup"><span data-stu-id="d60cc-157">Click the **Start your project** button:</span></span>

    ![Il pulsante di progetto di avvio](media/cicd/vsts-start-project.png)

1. <span data-ttu-id="d60cc-159">Viene aperto un browser  *\<account_name\>. visualstudio.com*.</span><span class="sxs-lookup"><span data-stu-id="d60cc-159">A browser opens to *\<account_name\>.visualstudio.com*.</span></span> <span data-ttu-id="d60cc-160">Scegliere il *MyFirstProject* collegamento per avviare la configurazione della pipeline di DevOps del progetto.</span><span class="sxs-lookup"><span data-stu-id="d60cc-160">Click the *MyFirstProject* link to begin configuring the project's DevOps pipeline.</span></span>

## <a name="configure-the-azure-pipelines-pipeline"></a><span data-ttu-id="d60cc-161">Configurare la pipeline della pipeline di Azure</span><span class="sxs-lookup"><span data-stu-id="d60cc-161">Configure the Azure Pipelines pipeline</span></span>

<span data-ttu-id="d60cc-162">Esistono tre passaggi distinti per il completamento.</span><span class="sxs-lookup"><span data-stu-id="d60cc-162">There are three distinct steps to complete.</span></span> <span data-ttu-id="d60cc-163">Completare i passaggi nei risultati di tre sezioni seguenti in una pipeline DevOps operativa.</span><span class="sxs-lookup"><span data-stu-id="d60cc-163">Completing the steps in the following three sections results in an operational DevOps pipeline.</span></span>

### <a name="grant-azure-devops-access-to-the-github-repository"></a><span data-ttu-id="d60cc-164">DevOps di Azure di concedere l'accesso al repository GitHub</span><span class="sxs-lookup"><span data-stu-id="d60cc-164">Grant Azure DevOps access to the GitHub repository</span></span>

1. <span data-ttu-id="d60cc-165">Espandere la **o compilare il codice da un repository esterno** accordion.</span><span class="sxs-lookup"><span data-stu-id="d60cc-165">Expand the **or build code from an external repository** accordion.</span></span> <span data-ttu-id="d60cc-166">Scegliere il **compilare il programma di installazione** pulsante:</span><span class="sxs-lookup"><span data-stu-id="d60cc-166">Click the **Setup Build** button:</span></span>

    ![Pulsante di compilazione il programma di installazione](media/cicd/vsts-setup-build.png)

1. <span data-ttu-id="d60cc-168">Selezionare il **GitHub** opzione il **consente di selezionare un'origine** sezione:</span><span class="sxs-lookup"><span data-stu-id="d60cc-168">Select the **GitHub** option from the **Select a source** section:</span></span>

    ![Selezionare un'origine - GitHub](media/cicd/vsts-select-source.png)

1. <span data-ttu-id="d60cc-170">È necessaria l'autorizzazione prima di DevOps di Azure possono accedere al repository GitHub.</span><span class="sxs-lookup"><span data-stu-id="d60cc-170">Authorization is required before Azure DevOps can access your GitHub repository.</span></span> <span data-ttu-id="d60cc-171">Immettere *< GitHub_username > connessione GitHub* nel **nome connessione** nella casella di testo.</span><span class="sxs-lookup"><span data-stu-id="d60cc-171">Enter *<GitHub_username> GitHub connection* in the **Connection name** textbox.</span></span> <span data-ttu-id="d60cc-172">Ad esempio:</span><span class="sxs-lookup"><span data-stu-id="d60cc-172">For example:</span></span>

    ![Nome della connessione GitHub](media/cicd/vsts-repo-authz.png)

1. <span data-ttu-id="d60cc-174">Se l'autenticazione a due fattori è abilitata nell'account GitHub, è necessario un token di accesso personale.</span><span class="sxs-lookup"><span data-stu-id="d60cc-174">If two-factor authentication is enabled on your GitHub account, a personal access token is required.</span></span> <span data-ttu-id="d60cc-175">In tal caso, scegliere il **Authorize con un token di accesso personale GitHub** collegamento.</span><span class="sxs-lookup"><span data-stu-id="d60cc-175">In that case, click the **Authorize with a GitHub personal access token** link.</span></span> <span data-ttu-id="d60cc-176">Vedere le [istruzioni di creazione del token di accesso personale GitHub ufficiali](https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/) per assistenza.</span><span class="sxs-lookup"><span data-stu-id="d60cc-176">See the [official GitHub personal access token creation instructions](https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/) for help.</span></span> <span data-ttu-id="d60cc-177">Solo le *repository* ambito delle autorizzazioni è necessaria.</span><span class="sxs-lookup"><span data-stu-id="d60cc-177">Only the *repo* scope of permissions is needed.</span></span> <span data-ttu-id="d60cc-178">In caso contrario, scegliere il **autorizza con OAuth** pulsante.</span><span class="sxs-lookup"><span data-stu-id="d60cc-178">Otherwise, click the **Authorize using OAuth** button.</span></span>
1. <span data-ttu-id="d60cc-179">Quando richiesto, accedere al proprio account GitHub.</span><span class="sxs-lookup"><span data-stu-id="d60cc-179">When prompted, sign in to your GitHub account.</span></span> <span data-ttu-id="d60cc-180">Selezionare quindi autorizza per concedere l'accesso all'organizzazione di Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="d60cc-180">Then select Authorize to grant access to your Azure DevOps organization.</span></span> <span data-ttu-id="d60cc-181">Se ha esito positivo, viene creato un nuovo endpoint del servizio.</span><span class="sxs-lookup"><span data-stu-id="d60cc-181">If successful, a new service endpoint is created.</span></span>
1. <span data-ttu-id="d60cc-182">Fare clic sui puntini di sospensione accanto al **Repository** pulsante.</span><span class="sxs-lookup"><span data-stu-id="d60cc-182">Click the ellipsis button next to the **Repository** button.</span></span> <span data-ttu-id="d60cc-183">Selezionare il *< GitHub_username > / lettore di feed semplice* repository dall'elenco.</span><span class="sxs-lookup"><span data-stu-id="d60cc-183">Select the *<GitHub_username>/simple-feed-reader* repository from the list.</span></span> <span data-ttu-id="d60cc-184">Scegliere il **seleziona** pulsante.</span><span class="sxs-lookup"><span data-stu-id="d60cc-184">Click the **Select** button.</span></span>
1. <span data-ttu-id="d60cc-185">Selezionare il *master* creare un ramo dalle **ramo predefinito per le compilazioni manuale e pianificate** elenco a discesa.</span><span class="sxs-lookup"><span data-stu-id="d60cc-185">Select the *master* branch from the **Default branch for manual and scheduled builds** drop-down.</span></span> <span data-ttu-id="d60cc-186">Fare clic sul pulsante **Continue** (Continua).</span><span class="sxs-lookup"><span data-stu-id="d60cc-186">Click the **Continue** button.</span></span> <span data-ttu-id="d60cc-187">Viene visualizzata la pagina di selezione del modello.</span><span class="sxs-lookup"><span data-stu-id="d60cc-187">The template selection page appears.</span></span>

### <a name="create-the-build-definition"></a><span data-ttu-id="d60cc-188">Creare la definizione di compilazione</span><span class="sxs-lookup"><span data-stu-id="d60cc-188">Create the build definition</span></span>

1. <span data-ttu-id="d60cc-189">Nella pagina di selezione del modello, immettere *ASP.NET Core* nella casella di ricerca:</span><span class="sxs-lookup"><span data-stu-id="d60cc-189">From the template selection page, enter *ASP.NET Core* in the search box:</span></span>

    ![Ricerca di ASP.NET Core sulla pagina del modello](media/cicd/vsts-template-selection.png)

1. <span data-ttu-id="d60cc-191">Vengono visualizzati i risultati della ricerca del modello.</span><span class="sxs-lookup"><span data-stu-id="d60cc-191">The template search results appear.</span></span> <span data-ttu-id="d60cc-192">Passare il mouse sul **ASP.NET Core** e scegliere il **applica** pulsante.</span><span class="sxs-lookup"><span data-stu-id="d60cc-192">Hover over the **ASP.NET Core** template, and click the **Apply** button.</span></span>
1. <span data-ttu-id="d60cc-193">Il **attività** verrà visualizzata la scheda della definizione di compilazione.</span><span class="sxs-lookup"><span data-stu-id="d60cc-193">The **Tasks** tab of the build definition appears.</span></span> <span data-ttu-id="d60cc-194">Fare clic sulla scheda **Trigger** .</span><span class="sxs-lookup"><span data-stu-id="d60cc-194">Click the **Triggers** tab.</span></span>
1. <span data-ttu-id="d60cc-195">Verificare i **abilitare l'integrazione continua** casella.</span><span class="sxs-lookup"><span data-stu-id="d60cc-195">Check the **Enable continuous integration** box.</span></span> <span data-ttu-id="d60cc-196">Sotto il **filtri** sezione, verificare che il **tipo** elenco a discesa è impostata su *inclusione*.</span><span class="sxs-lookup"><span data-stu-id="d60cc-196">Under the **Branch filters** section, confirm that the **Type** drop-down is set to *Include*.</span></span> <span data-ttu-id="d60cc-197">Impostare il **specifica rami** elenco a discesa per *master*.</span><span class="sxs-lookup"><span data-stu-id="d60cc-197">Set the **Branch specification** drop-down to *master*.</span></span>

    ![Abilitare le impostazioni di integrazione continua](media/cicd/vsts-enable-ci.png)

    <span data-ttu-id="d60cc-199">Queste impostazioni causano una compilazione da attivare quando viene eseguito il push di qualsiasi modifica apportata per la *master* ramo del repository GitHub.</span><span class="sxs-lookup"><span data-stu-id="d60cc-199">These settings cause a build to trigger when any change is pushed to the *master* branch of the GitHub repository.</span></span> <span data-ttu-id="d60cc-200">Integrazione continua è stato testato nel [confermare le modifiche a GitHub e distribuire automaticamente in Azure](#commit-changes-to-github-and-automatically-deploy-to-azure) sezione.</span><span class="sxs-lookup"><span data-stu-id="d60cc-200">Continuous integration is tested in the [Commit changes to GitHub and automatically deploy to Azure](#commit-changes-to-github-and-automatically-deploy-to-azure) section.</span></span>

1. <span data-ttu-id="d60cc-201">Scegliere il **Salva e accoda** e selezionare il **salvare** opzione:</span><span class="sxs-lookup"><span data-stu-id="d60cc-201">Click the **Save & queue** button, and select the **Save** option:</span></span>

    ![Pulsante Salva](media/cicd/vsts-save-build.png)

1. <span data-ttu-id="d60cc-203">Viene visualizzata la finestra di dialogo modale seguente:</span><span class="sxs-lookup"><span data-stu-id="d60cc-203">The following modal dialog appears:</span></span>

    ![Salva definizione di compilazione - finestra di dialogo modale](media/cicd/vsts-save-modal.png)

    <span data-ttu-id="d60cc-205">Usare la cartella predefinita del *\\*, fare clic sui **salvare** pulsante.</span><span class="sxs-lookup"><span data-stu-id="d60cc-205">Use the default folder of *\\*, and click the **Save** button.</span></span>

### <a name="create-the-release-pipeline"></a><span data-ttu-id="d60cc-206">Creare la pipeline di rilascio</span><span class="sxs-lookup"><span data-stu-id="d60cc-206">Create the release pipeline</span></span>

1. <span data-ttu-id="d60cc-207">Scegliere il **rilasci** scheda del progetto team.</span><span class="sxs-lookup"><span data-stu-id="d60cc-207">Click the **Releases** tab of your team project.</span></span> <span data-ttu-id="d60cc-208">Scegliere il **nuova pipeline** pulsante.</span><span class="sxs-lookup"><span data-stu-id="d60cc-208">Click the **New pipeline** button.</span></span>

    ![Scheda versioni - pulsante per la nuova definizione](media/cicd/vsts-new-release-definition.png)

    <span data-ttu-id="d60cc-210">Viene visualizzato il riquadro di selezione del modello.</span><span class="sxs-lookup"><span data-stu-id="d60cc-210">The template selection pane appears.</span></span>

1. <span data-ttu-id="d60cc-211">Nella pagina di selezione del modello, immettere *servizio App* nella casella di ricerca:</span><span class="sxs-lookup"><span data-stu-id="d60cc-211">From the template selection page, enter *App Service* in the search box:</span></span>

    ![Casella di ricerca modello pipeline di rilascio](media/cicd/vsts-release-template-search.png)

1. <span data-ttu-id="d60cc-213">Vengono visualizzati i risultati della ricerca del modello.</span><span class="sxs-lookup"><span data-stu-id="d60cc-213">The template search results appear.</span></span> <span data-ttu-id="d60cc-214">Passare il mouse sul **distribuzione servizio App di Azure con Slot** e scegliere il **applica** pulsante.</span><span class="sxs-lookup"><span data-stu-id="d60cc-214">Hover over the **Azure App Service Deployment with Slot** template, and click the **Apply** button.</span></span> <span data-ttu-id="d60cc-215">Il **Pipeline** verrà visualizzata la scheda della pipeline di rilascio.</span><span class="sxs-lookup"><span data-stu-id="d60cc-215">The **Pipeline** tab of the release pipeline appears.</span></span>

    ![Pipeline di rilascio della scheda della Pipeline](media/cicd/vsts-release-definition-pipeline.png)

1. <span data-ttu-id="d60cc-217">Fare clic sui **Add** pulsante nel **elementi** casella.</span><span class="sxs-lookup"><span data-stu-id="d60cc-217">Click the **Add** button in the **Artifacts** box.</span></span> <span data-ttu-id="d60cc-218">Il **Aggiungi artefatto** pannello viene visualizzato:</span><span class="sxs-lookup"><span data-stu-id="d60cc-218">The **Add artifact** panel appears:</span></span>

    ![Pipeline di rilascio, aggiungere il pannello dell'artefatto](media/cicd/vsts-release-add-artifact.png)

1. <span data-ttu-id="d60cc-220">Selezionare il **compilare** dal riquadro le **tipo di origine** sezione.</span><span class="sxs-lookup"><span data-stu-id="d60cc-220">Select the **Build** tile from the **Source type** section.</span></span> <span data-ttu-id="d60cc-221">Questo tipo consente il collegamento della pipeline di rilascio per la definizione di compilazione.</span><span class="sxs-lookup"><span data-stu-id="d60cc-221">This type allows for the linking of the release pipeline to the build definition.</span></span>
1. <span data-ttu-id="d60cc-222">Selezionare *MyFirstProject* dalle **progetto** elenco a discesa.</span><span class="sxs-lookup"><span data-stu-id="d60cc-222">Select *MyFirstProject* from the **Project** drop-down.</span></span>
1. <span data-ttu-id="d60cc-223">Selezionare il nome della definizione di compilazione *MyFirstProject-ASP.NET Core-CI*, dalle **origine (definizione di compilazione)** elenco a discesa.</span><span class="sxs-lookup"><span data-stu-id="d60cc-223">Select the build definition name, *MyFirstProject-ASP.NET Core-CI*, from the **Source (Build definition)** drop-down.</span></span>
1. <span data-ttu-id="d60cc-224">Selezionare *più recente* dalle **versione predefinita** elenco a discesa.</span><span class="sxs-lookup"><span data-stu-id="d60cc-224">Select *Latest* from the **Default version** drop-down.</span></span> <span data-ttu-id="d60cc-225">Questa opzione Crea gli elementi generati dall'esecuzione più recente della definizione di compilazione.</span><span class="sxs-lookup"><span data-stu-id="d60cc-225">This option builds the artifacts produced by the latest run of the build definition.</span></span>
1. <span data-ttu-id="d60cc-226">Sostituire il testo di **alias di origine** nella casella di testo con *Drop*.</span><span class="sxs-lookup"><span data-stu-id="d60cc-226">Replace the text in the **Source alias** textbox with *Drop*.</span></span>
1. <span data-ttu-id="d60cc-227">Fare clic sul pulsante **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="d60cc-227">Click the **Add** button.</span></span> <span data-ttu-id="d60cc-228">Il **artefatti** sezione viene aggiornato per visualizzare le modifiche.</span><span class="sxs-lookup"><span data-stu-id="d60cc-228">The **Artifacts** section updates to display the changes.</span></span>
1. <span data-ttu-id="d60cc-229">Scegliere l'icona a forma di fulmine per abilitare la distribuzione continua:</span><span class="sxs-lookup"><span data-stu-id="d60cc-229">Click the lightning bolt icon to enable continuous deployments:</span></span>

    ![Pipeline di rilascio elementi - sull'icona saetta](media/cicd/vsts-artifacts-lightning-bolt.png)

    <span data-ttu-id="d60cc-231">Con questa opzione è abilitata, una distribuzione si verifica ogni volta che è disponibile una nuova compilazione.</span><span class="sxs-lookup"><span data-stu-id="d60cc-231">With this option enabled, a deployment occurs each time a new build is available.</span></span>
1. <span data-ttu-id="d60cc-232">Oggetto **trigger di distribuzione continua** pannello viene visualizzato a destra.</span><span class="sxs-lookup"><span data-stu-id="d60cc-232">A **Continuous deployment trigger** panel appears to the right.</span></span> <span data-ttu-id="d60cc-233">Fare clic sull'interruttore per abilitare la funzionalità.</span><span class="sxs-lookup"><span data-stu-id="d60cc-233">Click the toggle button to enable the feature.</span></span> <span data-ttu-id="d60cc-234">Non è necessario abilitare la **trigger di richiesta Pull**.</span><span class="sxs-lookup"><span data-stu-id="d60cc-234">It isn't necessary to enable the **Pull request trigger**.</span></span>
1. <span data-ttu-id="d60cc-235">Fare clic sui **Add** elenco a discesa nel **creare filtri per rami** sezione.</span><span class="sxs-lookup"><span data-stu-id="d60cc-235">Click the **Add** drop-down in the **Build branch filters** section.</span></span> <span data-ttu-id="d60cc-236">Scegliere il **ramo predefinito della definizione di compilazione** opzione.</span><span class="sxs-lookup"><span data-stu-id="d60cc-236">Choose the **Build Definition's default branch** option.</span></span> <span data-ttu-id="d60cc-237">Questo filtro causa il rilascio attivare solo per una compilazione del repository di GitHub *master* ramo.</span><span class="sxs-lookup"><span data-stu-id="d60cc-237">This filter causes the release to trigger only for a build from the GitHub repository's *master* branch.</span></span>
1. <span data-ttu-id="d60cc-238">Fare clic sul pulsante **Salva**.</span><span class="sxs-lookup"><span data-stu-id="d60cc-238">Click the **Save** button.</span></span> <span data-ttu-id="d60cc-239">Fare clic sui **OK** pulsante risultante **salvare** finestra di dialogo modale.</span><span class="sxs-lookup"><span data-stu-id="d60cc-239">Click the **OK** button in the resulting **Save** modal dialog.</span></span>
1. <span data-ttu-id="d60cc-240">Scegliere il **ambiente 1** casella.</span><span class="sxs-lookup"><span data-stu-id="d60cc-240">Click the **Environment 1** box.</span></span> <span data-ttu-id="d60cc-241">Un' **ambiente** pannello viene visualizzato a destra.</span><span class="sxs-lookup"><span data-stu-id="d60cc-241">An **Environment** panel appears to the right.</span></span> <span data-ttu-id="d60cc-242">Modifica il *ambiente 1* testo nel **nome ambiente** casella di testo *produzione*.</span><span class="sxs-lookup"><span data-stu-id="d60cc-242">Change the *Environment 1* text in the **Environment name** textbox to *Production*.</span></span>

   ![Pipeline di rilascio - casella di testo Nome ambiente](media/cicd/vsts-environment-name-textbox.png)

1. <span data-ttu-id="d60cc-244">Fare clic sui **1 fase, 2 attività** clic sul collegamento nella **produzione** casella:</span><span class="sxs-lookup"><span data-stu-id="d60cc-244">Click the **1 phase, 2 tasks** link in the **Production** box:</span></span>

    ![Pipeline di rilascio - link.png ambiente di produzione](media/cicd/vsts-production-link.png)

    <span data-ttu-id="d60cc-246">Il **attività** verrà visualizzata la scheda dell'ambiente.</span><span class="sxs-lookup"><span data-stu-id="d60cc-246">The **Tasks** tab of the environment appears.</span></span>
1. <span data-ttu-id="d60cc-247">Scegliere il **distribuzione servizio App di Azure per lo Slot** attività.</span><span class="sxs-lookup"><span data-stu-id="d60cc-247">Click the **Deploy Azure App Service to Slot** task.</span></span> <span data-ttu-id="d60cc-248">Le impostazioni vengono visualizzate in un pannello a destra.</span><span class="sxs-lookup"><span data-stu-id="d60cc-248">Its settings appear in a panel to the right.</span></span>
1. <span data-ttu-id="d60cc-249">Selezionare la sottoscrizione di Azure associata al servizio App dal **sottoscrizione di Azure** elenco a discesa.</span><span class="sxs-lookup"><span data-stu-id="d60cc-249">Select the Azure subscription associated with the App Service from the **Azure subscription** drop-down.</span></span> <span data-ttu-id="d60cc-250">Una volta selezionato, scegliere il **Authorize** pulsante.</span><span class="sxs-lookup"><span data-stu-id="d60cc-250">Once selected, click the **Authorize** button.</span></span>
1. <span data-ttu-id="d60cc-251">Selezionare *App Web* dalle **tipo di App** elenco a discesa.</span><span class="sxs-lookup"><span data-stu-id="d60cc-251">Select *Web App* from the **App type** drop-down.</span></span>
1. <span data-ttu-id="d60cc-252">Selezionare *mywebapp / < unique_number / >* dalle **nome del servizio App** elenco a discesa.</span><span class="sxs-lookup"><span data-stu-id="d60cc-252">Select *mywebapp/<unique_number/>* from the **App service name** drop-down.</span></span>
1. <span data-ttu-id="d60cc-253">Selezionare *AzureTutorial* dalle **gruppo di risorse** elenco a discesa.</span><span class="sxs-lookup"><span data-stu-id="d60cc-253">Select *AzureTutorial* from the **Resource group** drop-down.</span></span>
1. <span data-ttu-id="d60cc-254">Selezionare *di gestione temporanea* dalle **Slot** elenco a discesa.</span><span class="sxs-lookup"><span data-stu-id="d60cc-254">Select *staging* from the **Slot** drop-down.</span></span>
1. <span data-ttu-id="d60cc-255">Fare clic sul pulsante **Salva**.</span><span class="sxs-lookup"><span data-stu-id="d60cc-255">Click the **Save** button.</span></span>
1. <span data-ttu-id="d60cc-256">Passare il mouse sul nome della pipeline di versione predefinito.</span><span class="sxs-lookup"><span data-stu-id="d60cc-256">Hover over the default release pipeline name.</span></span> <span data-ttu-id="d60cc-257">Fare clic sull'icona della matita per modificarlo.</span><span class="sxs-lookup"><span data-stu-id="d60cc-257">Click the pencil icon to edit it.</span></span> <span data-ttu-id="d60cc-258">Uso *MyFirstProject-ASP.NET Core-CD* come nome.</span><span class="sxs-lookup"><span data-stu-id="d60cc-258">Use *MyFirstProject-ASP.NET Core-CD* as the name.</span></span>

    ![Nome della pipeline di rilascio](media/cicd/vsts-release-definition-name.png)

1. <span data-ttu-id="d60cc-260">Fare clic sul pulsante **Salva**.</span><span class="sxs-lookup"><span data-stu-id="d60cc-260">Click the **Save** button.</span></span>

## <a name="commit-changes-to-github-and-automatically-deploy-to-azure"></a><span data-ttu-id="d60cc-261">Eseguire il commit delle modifiche a GitHub e distribuire automaticamente in Azure</span><span class="sxs-lookup"><span data-stu-id="d60cc-261">Commit changes to GitHub and automatically deploy to Azure</span></span>

1. <span data-ttu-id="d60cc-262">Aprire *SimpleFeedReader.sln* in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="d60cc-262">Open *SimpleFeedReader.sln* in Visual Studio.</span></span>
1. <span data-ttu-id="d60cc-263">In Esplora soluzioni, aprire *Pages\Index.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="d60cc-263">In Solution Explorer, open *Pages\Index.cshtml*.</span></span> <span data-ttu-id="d60cc-264">Change `<h2>Simple Feed Reader - V3</h2>` a `<h2>Simple Feed Reader - V4</h2>`.</span><span class="sxs-lookup"><span data-stu-id="d60cc-264">Change `<h2>Simple Feed Reader - V3</h2>` to `<h2>Simple Feed Reader - V4</h2>`.</span></span>
1. <span data-ttu-id="d60cc-265">Premere **Ctrl**+**MAIUSC**+**B** per compilare l'app.</span><span class="sxs-lookup"><span data-stu-id="d60cc-265">Press **Ctrl**+**Shift**+**B** to build the app.</span></span>
1. <span data-ttu-id="d60cc-266">Eseguire il commit di file al repository GitHub.</span><span class="sxs-lookup"><span data-stu-id="d60cc-266">Commit the file to the GitHub repository.</span></span> <span data-ttu-id="d60cc-267">Usare la **modifiche** pagina in Visual Studio *Team Explorer* scheda o eseguire le operazioni seguenti utilizzando shell dei comandi del computer locale:</span><span class="sxs-lookup"><span data-stu-id="d60cc-267">Use either the **Changes** page in Visual Studio's *Team Explorer* tab, or execute the following using the local machine's command shell:</span></span>

    ```console
    git commit -a -m "upgraded to V4"
    ```
1. <span data-ttu-id="d60cc-268">Il push della modifica *master* branch per il *origin* remota del repository GitHub:</span><span class="sxs-lookup"><span data-stu-id="d60cc-268">Push the change in the *master* branch to the *origin* remote of your GitHub repository:</span></span>

    ```console
    git push origin master
    ```

    <span data-ttu-id="d60cc-269">Viene visualizzato il commit nel repository di GitHub *master* ramo:</span><span class="sxs-lookup"><span data-stu-id="d60cc-269">The commit appears in the GitHub repository's *master* branch:</span></span>

    ![Commit GitHub nel ramo master](media/cicd/github-commit.png)

    <span data-ttu-id="d60cc-271">Viene attivata la compilazione, perché nella definizione di compilazione è abilitata l'integrazione continua **trigger** scheda:</span><span class="sxs-lookup"><span data-stu-id="d60cc-271">The build is triggered, since continuous integration is enabled in the build definition's **Triggers** tab:</span></span>

    ![abilitare l'integrazione continua](media/cicd/enable-ci.png)

1. <span data-ttu-id="d60cc-273">Passare al **in coda** scheda della finestra di **le pipeline di Azure** > **Compila** pagina in servizi di Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="d60cc-273">Navigate to the **Queued** tab of the **Azure Pipelines** > **Builds** page in Azure DevOps Services.</span></span> <span data-ttu-id="d60cc-274">La compilazione in coda Mostra i rami e commit che ha attivato la compilazione:</span><span class="sxs-lookup"><span data-stu-id="d60cc-274">The queued build shows the branch and commit that triggered the build:</span></span>

    ![compilazione in coda](media/cicd/build-queued.png)

1. <span data-ttu-id="d60cc-276">Al termine della compilazione, si verifica una distribuzione in Azure.</span><span class="sxs-lookup"><span data-stu-id="d60cc-276">Once the build succeeds, a deployment to Azure occurs.</span></span> <span data-ttu-id="d60cc-277">Passare all'app nel browser.</span><span class="sxs-lookup"><span data-stu-id="d60cc-277">Navigate to the app in the browser.</span></span> <span data-ttu-id="d60cc-278">Si noti che il testo "V4" viene visualizzato nell'intestazione di:</span><span class="sxs-lookup"><span data-stu-id="d60cc-278">Notice that the "V4" text appears in the heading:</span></span>

    ![app aggiornata](media/cicd/updated-app-v4.png)

## <a name="examine-the-azure-pipelines-pipeline"></a><span data-ttu-id="d60cc-280">Esaminare la pipeline della pipeline di Azure</span><span class="sxs-lookup"><span data-stu-id="d60cc-280">Examine the Azure Pipelines pipeline</span></span>

### <a name="build-definition"></a><span data-ttu-id="d60cc-281">Definizione di compilazione</span><span class="sxs-lookup"><span data-stu-id="d60cc-281">Build definition</span></span>

<span data-ttu-id="d60cc-282">Una definizione di compilazione è stata creata con il nome *MyFirstProject-ASP.NET Core-CI*.</span><span class="sxs-lookup"><span data-stu-id="d60cc-282">A build definition was created with the name *MyFirstProject-ASP.NET Core-CI*.</span></span> <span data-ttu-id="d60cc-283">Al termine, la compilazione produce un *zip* file tra cui gli asset da pubblicare.</span><span class="sxs-lookup"><span data-stu-id="d60cc-283">Upon completion, the build produces a *.zip* file including the assets to be published.</span></span> <span data-ttu-id="d60cc-284">La pipeline di rilascio consente di distribuire tali risorse in Azure.</span><span class="sxs-lookup"><span data-stu-id="d60cc-284">The release pipeline deploys those assets to Azure.</span></span>

<span data-ttu-id="d60cc-285">La definizione di compilazione **attività** scheda vengono elencati i singoli passaggi in uso.</span><span class="sxs-lookup"><span data-stu-id="d60cc-285">The build definition's **Tasks** tab lists the individual steps being used.</span></span> <span data-ttu-id="d60cc-286">Esistono cinque attività di compilazione.</span><span class="sxs-lookup"><span data-stu-id="d60cc-286">There are five build tasks.</span></span>

![attività definizioni di compilazione](media/cicd/build-definition-tasks.png)

1. <span data-ttu-id="d60cc-288">**Ripristinare** &mdash; esegue il `dotnet restore` comando per ripristinare i pacchetti NuGet dell'app.</span><span class="sxs-lookup"><span data-stu-id="d60cc-288">**Restore** &mdash; Executes the `dotnet restore` command to restore the app's NuGet packages.</span></span> <span data-ttu-id="d60cc-289">Il pacchetto predefinito feed usato è nuget.org.</span><span class="sxs-lookup"><span data-stu-id="d60cc-289">The default package feed used is nuget.org.</span></span>
1. <span data-ttu-id="d60cc-290">**Compilare** &mdash; esegue il `dotnet build --configuration release` comando per compilare il codice dell'app.</span><span class="sxs-lookup"><span data-stu-id="d60cc-290">**Build** &mdash; Executes the `dotnet build --configuration release` command to compile the app's code.</span></span> <span data-ttu-id="d60cc-291">Ciò `--configuration` opzione viene utilizzata per produrre una versione ottimizzata del codice, vale a dire appropriato per la distribuzione in un ambiente di produzione.</span><span class="sxs-lookup"><span data-stu-id="d60cc-291">This `--configuration` option is used to produce an optimized version of the code, which is suitable for deployment to a production environment.</span></span> <span data-ttu-id="d60cc-292">Modificare il *BuildConfiguration* variabile sulla definizione di compilazione **variabili** scheda se, ad esempio, non è necessaria una configurazione di debug.</span><span class="sxs-lookup"><span data-stu-id="d60cc-292">Modify the *BuildConfiguration* variable on the build definition's **Variables** tab if, for example, a debug configuration is needed.</span></span>
1. <span data-ttu-id="d60cc-293">**Test** &mdash; esegue il `dotnet test --configuration release --logger trx --results-directory <local_path_on_build_agent>` comando per eseguire gli unit test dell'app.</span><span class="sxs-lookup"><span data-stu-id="d60cc-293">**Test** &mdash; Executes the `dotnet test --configuration release --logger trx --results-directory <local_path_on_build_agent>` command to run the app's unit tests.</span></span> <span data-ttu-id="d60cc-294">Gli unit test vengono eseguiti all'interno di qualsiasi c# progetto corrispondente il `**/*Tests/*.csproj` criterio glob.</span><span class="sxs-lookup"><span data-stu-id="d60cc-294">Unit tests are executed within any C# project matching the `**/*Tests/*.csproj` glob pattern.</span></span> <span data-ttu-id="d60cc-295">I risultati del test vengono salvati un *trx* file nel percorso specificato per il `--results-directory` opzione.</span><span class="sxs-lookup"><span data-stu-id="d60cc-295">Test results are saved in a *.trx* file at the location specified by the `--results-directory` option.</span></span> <span data-ttu-id="d60cc-296">Se i test hanno esito negativo, la compilazione ha esito negativo e non è stata distribuita.</span><span class="sxs-lookup"><span data-stu-id="d60cc-296">If any tests fail, the build fails and isn't deployed.</span></span>

    > [!NOTE]
    > <span data-ttu-id="d60cc-297">Per verificare l'unità di lavoro di test, modificare *SimpleFeedReader.Tests\Services\NewsServiceTests.cs* intenzionalmente interrompere uno dei test.</span><span class="sxs-lookup"><span data-stu-id="d60cc-297">To verify the unit tests work, modify *SimpleFeedReader.Tests\Services\NewsServiceTests.cs* to purposefully break one of the tests.</span></span> <span data-ttu-id="d60cc-298">Ad esempio, modificare `Assert.True(result.Count > 0);` al `Assert.False(result.Count > 0);` nel `Returns_News_Stories_Given_Valid_Uri` (metodo).</span><span class="sxs-lookup"><span data-stu-id="d60cc-298">For example, change `Assert.True(result.Count > 0);` to `Assert.False(result.Count > 0);` in the `Returns_News_Stories_Given_Valid_Uri` method.</span></span> <span data-ttu-id="d60cc-299">Eseguire il commit e push della modifica in GitHub.</span><span class="sxs-lookup"><span data-stu-id="d60cc-299">Commit and push the change to GitHub.</span></span> <span data-ttu-id="d60cc-300">La compilazione viene attivata e avrà esito negativo.</span><span class="sxs-lookup"><span data-stu-id="d60cc-300">The build is triggered and fails.</span></span> <span data-ttu-id="d60cc-301">Lo stato della pipeline di compilazione diventa **non è stato possibile**.</span><span class="sxs-lookup"><span data-stu-id="d60cc-301">The build pipeline status changes to **failed**.</span></span> <span data-ttu-id="d60cc-302">Ripristinare le modifiche, commit e push.</span><span class="sxs-lookup"><span data-stu-id="d60cc-302">Revert the change, commit, and push again.</span></span> <span data-ttu-id="d60cc-303">La compilazione ha esito positivo.</span><span class="sxs-lookup"><span data-stu-id="d60cc-303">The build succeeds.</span></span>

1. <span data-ttu-id="d60cc-304">**Pubblicare** &mdash; esegue il `dotnet publish --configuration release --output <local_path_on_build_agent>` comando per produrre una *zip* file con gli elementi da distribuire.</span><span class="sxs-lookup"><span data-stu-id="d60cc-304">**Publish** &mdash; Executes the `dotnet publish --configuration release --output <local_path_on_build_agent>` command to produce a *.zip* file with the artifacts to be deployed.</span></span> <span data-ttu-id="d60cc-305">Il `--output` opzione consente di specificare il percorso di pubblicazione le *zip* file.</span><span class="sxs-lookup"><span data-stu-id="d60cc-305">The `--output` option specifies the publish location of the *.zip* file.</span></span> <span data-ttu-id="d60cc-306">Che l'indirizzo è specificato passando una [variabile predefinita](/azure/devops/pipelines/build/variables) denominata `$(build.artifactstagingdirectory)`.</span><span class="sxs-lookup"><span data-stu-id="d60cc-306">That location is specified by passing a [predefined variable](/azure/devops/pipelines/build/variables) named `$(build.artifactstagingdirectory)`.</span></span> <span data-ttu-id="d60cc-307">Tale variabile si espande in un percorso locale, ad esempio *c:\agent\_work\1\a*, dell'agente di compilazione.</span><span class="sxs-lookup"><span data-stu-id="d60cc-307">That variable expands to a local path, such as *c:\agent\_work\1\a*, on the build agent.</span></span>
1. <span data-ttu-id="d60cc-308">**Pubblica artefatto** &mdash; Publishes le *zip* file prodotto dal **Publish** attività.</span><span class="sxs-lookup"><span data-stu-id="d60cc-308">**Publish Artifact** &mdash; Publishes the *.zip* file produced by the **Publish** task.</span></span> <span data-ttu-id="d60cc-309">L'attività accetta il *zip* percorso come un parametro, ovvero la variabile predefinita dei file `$(build.artifactstagingdirectory)`.</span><span class="sxs-lookup"><span data-stu-id="d60cc-309">The task accepts the *.zip* file location as a parameter, which is the predefined variable `$(build.artifactstagingdirectory)`.</span></span> <span data-ttu-id="d60cc-310">Il *zip* i file vengono pubblicati come una cartella denominata *drop*.</span><span class="sxs-lookup"><span data-stu-id="d60cc-310">The *.zip* file is published as a folder named *drop*.</span></span>

<span data-ttu-id="d60cc-311">Fare clic sulla definizione di compilazione **riepilogo** collegamento per visualizzare una cronologia delle compilazioni con la definizione di:</span><span class="sxs-lookup"><span data-stu-id="d60cc-311">Click the build definition's **Summary** link to view a history of builds with the definition:</span></span>

![Cronologia della definizione di compilazione di schermata che mostra](media/cicd/build-definition-summary.png)

<span data-ttu-id="d60cc-313">Nella pagina risulta, fare clic sul collegamento corrispondente al numero di build univoco:</span><span class="sxs-lookup"><span data-stu-id="d60cc-313">On the resulting page, click the link corresponding to the unique build number:</span></span>

![Screenshot che Mostra definizione pagina di riepilogo compilazione](media/cicd/build-definition-completed.png)

<span data-ttu-id="d60cc-315">Viene visualizzato un riepilogo di questa compilazione specifica.</span><span class="sxs-lookup"><span data-stu-id="d60cc-315">A summary of this specific build is displayed.</span></span> <span data-ttu-id="d60cc-316">Fare clic sui **artefatti** scheda e notare il *drop* prodotto dalla compilazione cartella verrà elencata:</span><span class="sxs-lookup"><span data-stu-id="d60cc-316">Click the **Artifacts** tab, and notice the *drop* folder produced by the build is listed:</span></span>

![Screenshot che mostra gli elementi di definizione di compilazione - cartella di ricezione](media/cicd/build-definition-artifacts.png)

<span data-ttu-id="d60cc-318">Usare la **scaricare** e **Explore** collegamenti per controllare gli elementi pubblicati.</span><span class="sxs-lookup"><span data-stu-id="d60cc-318">Use the **Download** and **Explore** links to inspect the published artifacts.</span></span>

### <a name="release-pipeline"></a><span data-ttu-id="d60cc-319">Pipeline di rilascio</span><span class="sxs-lookup"><span data-stu-id="d60cc-319">Release pipeline</span></span>

<span data-ttu-id="d60cc-320">Una pipeline di rilascio è stata creata con il nome *MyFirstProject-ASP.NET Core-CD*:</span><span class="sxs-lookup"><span data-stu-id="d60cc-320">A release pipeline was created with the name *MyFirstProject-ASP.NET Core-CD*:</span></span>

![Panoramica della pipeline di versione di schermata che mostra](media/cicd/release-definition-overview.png)

<span data-ttu-id="d60cc-322">I due componenti principali della pipeline di rilascio sono le **artefatti** e il **ambienti**.</span><span class="sxs-lookup"><span data-stu-id="d60cc-322">The two major components of the release pipeline are the **Artifacts** and the **Environments**.</span></span> <span data-ttu-id="d60cc-323">Facendo clic sulla casella nella **artefatti** sezione mostra il pannello seguente:</span><span class="sxs-lookup"><span data-stu-id="d60cc-323">Clicking the box in the **Artifacts** section reveals the following panel:</span></span>

![Elementi di schermata che mostra rilascio pipeline](media/cicd/release-definition-artifacts.png)

<span data-ttu-id="d60cc-325">Il **origine (definizione di compilazione)** valore rappresenta la definizione di compilazione a cui è collegata questa pipeline di rilascio.</span><span class="sxs-lookup"><span data-stu-id="d60cc-325">The **Source (Build definition)** value represents the build definition to which this release pipeline is linked.</span></span> <span data-ttu-id="d60cc-326">Il *zip* file prodotto da un'esecuzione riuscita della definizione di compilazione viene fornito per il *produzione* ambiente per la distribuzione in Azure.</span><span class="sxs-lookup"><span data-stu-id="d60cc-326">The *.zip* file produced by a successful run of the build definition is provided to the *Production* environment for deployment to Azure.</span></span> <span data-ttu-id="d60cc-327">Fare clic sui *1 fase, 2 attività* clic sul collegamento nella *produzione* ambiente (environment) per visualizzare le attività della pipeline di rilascio:</span><span class="sxs-lookup"><span data-stu-id="d60cc-327">Click the *1 phase, 2 tasks* link in the *Production* environment box to view the release pipeline tasks:</span></span>

![Attività della pipeline di rilascio di schermata che mostra](media/cicd/release-definition-tasks.png)

<span data-ttu-id="d60cc-329">La pipeline di rilascio è costituito da due attività: *Distribuzione servizio App di Azure in Slot* e *gestire lo scambio di Slot di servizio App di Azure -*.</span><span class="sxs-lookup"><span data-stu-id="d60cc-329">The release pipeline consists of two tasks: *Deploy Azure App Service to Slot* and *Manage Azure App Service - Slot Swap*.</span></span> <span data-ttu-id="d60cc-330">Facendo clic la prima attività, vengono visualizzate la configurazione delle operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="d60cc-330">Clicking the first task reveals the following task configuration:</span></span>

![Pipeline di rilascio di schermata che illustra attività di distribuzione](media/cicd/release-definition-task1.png)

<span data-ttu-id="d60cc-332">La sottoscrizione di Azure, tipo di servizio, nome dell'app web, gruppo di risorse e lo slot di distribuzione sono definiti nell'attività di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="d60cc-332">The Azure subscription, service type, web app name, resource group, and deployment slot are defined in the deployment task.</span></span> <span data-ttu-id="d60cc-333">Il **pacchetto o cartella** nella casella di testo contiene il *zip* percorso del file da estrarre e distribuita nel *staging* slot del *mywebapp\<univoco numero\>*  app web.</span><span class="sxs-lookup"><span data-stu-id="d60cc-333">The **Package or folder** textbox holds the *.zip* file path to be extracted and deployed to the *staging* slot of the *mywebapp\<unique_number\>* web app.</span></span>

<span data-ttu-id="d60cc-334">Fare clic sull'attività di scambio di slot rivela la configurazione delle operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="d60cc-334">Clicking the slot swap task reveals the following task configuration:</span></span>

![Attività di schermata che mostra release pipeline slot swap](media/cicd/release-definition-task2.png)

<span data-ttu-id="d60cc-336">La sottoscrizione, gruppo di risorse, tipo di servizio, nome dell'app web e i dettagli di uno slot di distribuzione vengono forniti.</span><span class="sxs-lookup"><span data-stu-id="d60cc-336">The subscription, resource group, service type, web app name, and deployment slot details are provided.</span></span> <span data-ttu-id="d60cc-337">Il **scambia con produzione** casella di controllo è selezionata.</span><span class="sxs-lookup"><span data-stu-id="d60cc-337">The **Swap with Production** check box is checked.</span></span> <span data-ttu-id="d60cc-338">Di conseguenza, i bit distribuiti per la *staging* slot vengono scambiate nell'ambiente di produzione.</span><span class="sxs-lookup"><span data-stu-id="d60cc-338">Consequently, the bits deployed to the *staging* slot are swapped into the production environment.</span></span>

## <a name="additional-reading"></a><span data-ttu-id="d60cc-339">Altre informazioni</span><span class="sxs-lookup"><span data-stu-id="d60cc-339">Additional reading</span></span>

* [<span data-ttu-id="d60cc-340">Creare la prima pipeline con Azure Pipelines</span><span class="sxs-lookup"><span data-stu-id="d60cc-340">Create your first pipeline with Azure Pipelines</span></span>](/azure/devops/pipelines/get-started-yaml)
* [<span data-ttu-id="d60cc-341">Progetto di compilazione e .NET Core</span><span class="sxs-lookup"><span data-stu-id="d60cc-341">Build and .NET Core project</span></span>](/azure/devops/pipelines/languages/dotnet-core)
* [<span data-ttu-id="d60cc-342">Distribuire un'app web con le pipeline di Azure</span><span class="sxs-lookup"><span data-stu-id="d60cc-342">Deploy a web app with Azure Pipelines</span></span>](/azure/devops/pipelines/targets/webapp)

---
uid: web-forms/overview/data-access/caching-data/using-sql-cache-dependencies-cs
title: Uso delle dipendenze dellaC#cache SQL () | Microsoft Docs
author: rick-anderson
description: La strategia di memorizzazione nella cache più semplice consiste nel consentire la scadenza dei dati memorizzati nella cache dopo un periodo di tempo specificato. Ma questo semplice approccio significa che i dati memorizzati nella cache Maintai...
ms.author: riande
ms.date: 05/30/2007
ms.assetid: 0e91842c-7f10-4aed-8c23-4ee3e2774014
msc.legacyurl: /web-forms/overview/data-access/caching-data/using-sql-cache-dependencies-cs
msc.type: authoredcontent
ms.openlocfilehash: 5bc27a08e39606c25b8f99d6ea057d2a853f08a6
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/06/2020
ms.locfileid: "78550421"
---
# <a name="using-sql-cache-dependencies-c"></a><span data-ttu-id="9deab-104">Uso delle dipendenze della cache SQL (C#)</span><span class="sxs-lookup"><span data-stu-id="9deab-104">Using SQL Cache Dependencies (C#)</span></span>

<span data-ttu-id="9deab-105">di [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="9deab-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="9deab-106">[Scarica codice](https://download.microsoft.com/download/3/9/f/39f92b37-e92e-4ab3-909e-b4ef23d01aa3/ASPNET_Data_Tutorial_61_CS.zip) o [Scarica PDF](using-sql-cache-dependencies-cs/_static/datatutorial61cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="9deab-106">[Download Code](https://download.microsoft.com/download/3/9/f/39f92b37-e92e-4ab3-909e-b4ef23d01aa3/ASPNET_Data_Tutorial_61_CS.zip) or [Download PDF](using-sql-cache-dependencies-cs/_static/datatutorial61cs1.pdf)</span></span>

> <span data-ttu-id="9deab-107">La strategia di memorizzazione nella cache più semplice consiste nel consentire la scadenza dei dati memorizzati nella cache dopo un periodo di tempo specificato.</span><span class="sxs-lookup"><span data-stu-id="9deab-107">The simplest caching strategy is to allow cached data to expire after a specified period of time.</span></span> <span data-ttu-id="9deab-108">Tuttavia, questo semplice approccio significa che i dati memorizzati nella cache non mantengono alcuna associazione con l'origine dati sottostante, ottenendo dati non aggiornati mantenuti troppo lunghi o dati correnti scaduti troppo a breve.</span><span class="sxs-lookup"><span data-stu-id="9deab-108">But this simple approach means that the cached data maintains no association with its underlying data source, resulting in stale data that is held too long or current data that is expired too soon.</span></span> <span data-ttu-id="9deab-109">Un approccio migliore consiste nell'usare la classe SqlCacheDependency in modo che i dati rimangano memorizzati nella cache fino a quando i dati sottostanti non vengono modificati nel database SQL.</span><span class="sxs-lookup"><span data-stu-id="9deab-109">A better approach is to use the SqlCacheDependency class so that data remains cached until its underlying data has been modified in the SQL database.</span></span> <span data-ttu-id="9deab-110">Questa esercitazione illustra come.</span><span class="sxs-lookup"><span data-stu-id="9deab-110">This tutorial shows you how.</span></span>

## <a name="introduction"></a><span data-ttu-id="9deab-111">Introduzione</span><span class="sxs-lookup"><span data-stu-id="9deab-111">Introduction</span></span>

<span data-ttu-id="9deab-112">Le tecniche di memorizzazione nella cache esaminate nei [dati di memorizzazione nella cache con i](caching-data-with-the-objectdatasource-cs.md) dati di ObjectDataSource e [di memorizzazione](caching-data-in-the-architecture-cs.md) nella cache nelle esercitazioni sull'architettura hanno usato una scadenza basata sul tempo per rimuovere i dati dalla cache dopo un periodo specificato.</span><span class="sxs-lookup"><span data-stu-id="9deab-112">The caching techniques examined in the [Caching Data with the ObjectDataSource](caching-data-with-the-objectdatasource-cs.md) and [Caching Data in the Architecture](caching-data-in-the-architecture-cs.md) tutorials used a time-based expiry to evict the data from the cache after a specified period.</span></span> <span data-ttu-id="9deab-113">Questo approccio rappresenta il modo più semplice per bilanciare il miglioramento delle prestazioni di memorizzazione nella cache rispetto all'obsolescenza dei dati.</span><span class="sxs-lookup"><span data-stu-id="9deab-113">This approach is the simplest way to balance the performance gains of caching against data staleness.</span></span> <span data-ttu-id="9deab-114">Selezionando una scadenza temporale di *x* secondi, uno sviluppatore di pagine cede per sfruttare i vantaggi in termini di prestazioni derivanti dalla memorizzazione nella cache solo per *x* secondi, ma può essere facile che i dati non saranno mai obsoleti più di un massimo di *x* secondi.</span><span class="sxs-lookup"><span data-stu-id="9deab-114">By selecting a time expiry of *x* seconds, a page developer concedes to enjoy the performance benefits of caching for only *x* seconds, but can rest easy that her data will never be stale longer than a maximum of *x* seconds.</span></span> <span data-ttu-id="9deab-115">Naturalmente, per i dati statici, *x* può essere esteso alla durata dell'applicazione Web, come è stato esaminato nell'esercitazione sull' [avvio dell'applicazione Caching Data](caching-data-at-application-startup-cs.md) .</span><span class="sxs-lookup"><span data-stu-id="9deab-115">Of course, for static data, *x* can be extended to the lifetime of the web application, as was examined in the [Caching Data at Application Startup](caching-data-at-application-startup-cs.md) tutorial.</span></span>

<span data-ttu-id="9deab-116">Quando si memorizzano nella cache i dati del database, una scadenza basata sul tempo viene spesso scelta per la facilità d'uso, ma è spesso una soluzione inadeguata.</span><span class="sxs-lookup"><span data-stu-id="9deab-116">When caching database data, a time-based expiry is often chosen for its ease of use but is frequently an inadequate solution.</span></span> <span data-ttu-id="9deab-117">Idealmente, i dati del database rimangono memorizzati nella cache fino a quando i dati sottostanti non vengono modificati nel database. solo a questo punto la cache verrà rimossa.</span><span class="sxs-lookup"><span data-stu-id="9deab-117">Ideally, the database data would remain cached until the underlying data has been modified in the database; only then would the cache be evicted.</span></span> <span data-ttu-id="9deab-118">Questo approccio massimizza i vantaggi in merito alle prestazioni della memorizzazione nella cache e riduce al minimo la durata dei dati non aggiornati.</span><span class="sxs-lookup"><span data-stu-id="9deab-118">This approach maximizes the performance benefits of caching and minimizes the duration of stale data.</span></span> <span data-ttu-id="9deab-119">Tuttavia, per sfruttare questi vantaggi è necessario che sia presente un sistema che sappia quando i dati del database sottostanti sono stati modificati e rimuove gli elementi corrispondenti dalla cache.</span><span class="sxs-lookup"><span data-stu-id="9deab-119">However, in order to enjoy these benefits there must be some system in place that knows when the underlying database data has been modified and evicts the corresponding items from the cache.</span></span> <span data-ttu-id="9deab-120">Prima di ASP.NET 2,0, gli sviluppatori di pagine erano responsabili dell'implementazione di questo sistema.</span><span class="sxs-lookup"><span data-stu-id="9deab-120">Prior to ASP.NET 2.0, page developers were responsible for implementing this system.</span></span>

<span data-ttu-id="9deab-121">ASP.NET 2,0 fornisce una [classe`SqlCacheDependency`](https://msdn.microsoft.com/library/system.web.caching.sqlcachedependency.aspx) e l'infrastruttura necessaria per determinare quando si è verificata una modifica nel database, in modo che gli elementi memorizzati nella cache corrispondenti possano essere rimossi.</span><span class="sxs-lookup"><span data-stu-id="9deab-121">ASP.NET 2.0 provides a [`SqlCacheDependency` class](https://msdn.microsoft.com/library/system.web.caching.sqlcachedependency.aspx) and the necessary infrastructure to determine when a change has occurred in the database so that the corresponding cached items can be evicted.</span></span> <span data-ttu-id="9deab-122">Esistono due tecniche per determinare quando i dati sottostanti sono stati modificati: notifica e polling.</span><span class="sxs-lookup"><span data-stu-id="9deab-122">There are two techniques for determining when the underlying data has changed: notification and polling.</span></span> <span data-ttu-id="9deab-123">Dopo aver illustrato le differenze tra le notifiche e il polling, verrà creata l'infrastruttura necessaria per supportare il polling, quindi verrà illustrato come utilizzare la classe `SqlCacheDependency` in scenari dichiarativi e a livello di codice.</span><span class="sxs-lookup"><span data-stu-id="9deab-123">After discussing the differences between notification and polling, we'll create the infrastructure necessary to support polling and then explore how to use the `SqlCacheDependency` class in declarative and programmatically scenarios.</span></span>

## <a name="understanding-notification-and-polling"></a><span data-ttu-id="9deab-124">Informazioni sulle notifiche e sul polling</span><span class="sxs-lookup"><span data-stu-id="9deab-124">Understanding Notification and Polling</span></span>

<span data-ttu-id="9deab-125">Esistono due tecniche che è possibile utilizzare per determinare quando i dati di un database sono stati modificati: notifiche e polling.</span><span class="sxs-lookup"><span data-stu-id="9deab-125">There are two techniques that can be used to determine when the data in a database has been modified: notification and polling.</span></span> <span data-ttu-id="9deab-126">Con la notifica, il database avvisa automaticamente il runtime ASP.NET quando i risultati di una determinata query sono stati modificati dopo l'ultima esecuzione della query. a quel punto gli elementi memorizzati nella cache associati alla query vengono rimossi.</span><span class="sxs-lookup"><span data-stu-id="9deab-126">With notification, the database automatically alerts the ASP.NET runtime when the results of a particular query have been changed since the query was last executed, at which point the cached items associated with the query are evicted.</span></span> <span data-ttu-id="9deab-127">Con il polling, il server di database gestisce le informazioni relative all'ultimo aggiornamento di determinate tabelle.</span><span class="sxs-lookup"><span data-stu-id="9deab-127">With polling, the database server maintains information about when particular tables have last been updated.</span></span> <span data-ttu-id="9deab-128">Il runtime di ASP.NET esegue periodicamente il polling del database per verificare quali tabelle sono state modificate dopo l'immissione nella cache.</span><span class="sxs-lookup"><span data-stu-id="9deab-128">The ASP.NET runtime periodically polls the database to check what tables have changed since they were entered into the cache.</span></span> <span data-ttu-id="9deab-129">Alle tabelle i cui dati sono stati modificati sono stati rimossi gli elementi della cache associati.</span><span class="sxs-lookup"><span data-stu-id="9deab-129">Those tables whose data has been modified have their associated cache items evicted.</span></span>

<span data-ttu-id="9deab-130">L'opzione di notifica richiede un minor numero di configurazioni rispetto al polling ed è più granulare perché tiene traccia delle modifiche a livello di query anziché a livello di tabella.</span><span class="sxs-lookup"><span data-stu-id="9deab-130">The notification option requires less setup than polling and is more granular since it tracks changes at the query level rather than at the table level.</span></span> <span data-ttu-id="9deab-131">Sfortunatamente, le notifiche sono disponibili solo nelle edizioni complete di Microsoft SQL Server 2005 (ad esempio, le edizioni non Express).</span><span class="sxs-lookup"><span data-stu-id="9deab-131">Unfortunately, notifications are only available in the full editions of Microsoft SQL Server 2005 (i.e., the non-Express editions).</span></span> <span data-ttu-id="9deab-132">Tuttavia, l'opzione di polling può essere usata per tutte le versioni di Microsoft SQL Server da 7,0 a 2005.</span><span class="sxs-lookup"><span data-stu-id="9deab-132">However, the polling option can be used for all versions of Microsoft SQL Server from 7.0 to 2005.</span></span> <span data-ttu-id="9deab-133">Poiché queste esercitazioni usano l'edizione Express di SQL Server 2005, si concentrerà sulla configurazione e sull'uso dell'opzione di polling.</span><span class="sxs-lookup"><span data-stu-id="9deab-133">Since these tutorials use the Express edition of SQL Server 2005, we will focus on setting up and using the polling option.</span></span> <span data-ttu-id="9deab-134">Consultare la sezione ulteriori informazioni alla fine di questa esercitazione per ulteriori risorse sulle funzionalità di notifica di SQL Server 2005.</span><span class="sxs-lookup"><span data-stu-id="9deab-134">Consult the Further Reading section at the end of this tutorial for further resources on SQL Server 2005 s notification capabilities.</span></span>

<span data-ttu-id="9deab-135">Con il polling, il database deve essere configurato in modo da includere una tabella denominata `AspNet_SqlCacheTablesForChangeNotification` con tre colonne `tableName`, `notificationCreated`e `changeId`.</span><span class="sxs-lookup"><span data-stu-id="9deab-135">With polling, the database must be configured to include a table named `AspNet_SqlCacheTablesForChangeNotification` that has three columns - `tableName`, `notificationCreated`, and `changeId`.</span></span> <span data-ttu-id="9deab-136">Questa tabella contiene una riga per ogni tabella che contiene dati che potrebbero dover essere utilizzati in una dipendenza della cache SQL nell'applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="9deab-136">This table contains a row for each table that has data that might need to be used in a SQL cache dependency in the web application.</span></span> <span data-ttu-id="9deab-137">Nella colonna `tableName` viene specificato il nome della tabella mentre `notificationCreated` indica la data e l'ora in cui la riga è stata aggiunta alla tabella.</span><span class="sxs-lookup"><span data-stu-id="9deab-137">The `tableName` column specifies the name of the table while `notificationCreated` indicates the date and time the row was added to the table.</span></span> <span data-ttu-id="9deab-138">Il `changeId` colonna è di tipo `int` e ha un valore iniziale pari a 0.</span><span class="sxs-lookup"><span data-stu-id="9deab-138">The `changeId` column is of type `int` and has an initial value of 0.</span></span> <span data-ttu-id="9deab-139">Il valore viene incrementato a ogni modifica apportata alla tabella.</span><span class="sxs-lookup"><span data-stu-id="9deab-139">Its value is incremented with each modification to the table.</span></span>

<span data-ttu-id="9deab-140">Oltre alla tabella `AspNet_SqlCacheTablesForChangeNotification`, è inoltre necessario che il database includa trigger in ognuna delle tabelle che possono essere visualizzate in una dipendenza della cache SQL.</span><span class="sxs-lookup"><span data-stu-id="9deab-140">In addition to the `AspNet_SqlCacheTablesForChangeNotification` table, the database also needs to include triggers on each of the tables that may appear in a SQL cache dependency.</span></span> <span data-ttu-id="9deab-141">Questi trigger vengono eseguiti ogni volta che viene inserita, aggiornata o eliminata una riga e viene incrementata la tabella s `changeId` valore `AspNet_SqlCacheTablesForChangeNotification`.</span><span class="sxs-lookup"><span data-stu-id="9deab-141">These triggers are executed whenever a row is inserted, updated, or deleted and increment the table s `changeId` value in `AspNet_SqlCacheTablesForChangeNotification`.</span></span>

<span data-ttu-id="9deab-142">Il runtime di ASP.NET tiene traccia del `changeId` corrente per una tabella durante la memorizzazione nella cache dei dati tramite un oggetto `SqlCacheDependency`.</span><span class="sxs-lookup"><span data-stu-id="9deab-142">The ASP.NET runtime tracks the current `changeId` for a table when caching data using a `SqlCacheDependency` object.</span></span> <span data-ttu-id="9deab-143">Il database viene controllato periodicamente e tutti gli oggetti `SqlCacheDependency` la cui `changeId` differisce dal valore nel database vengono rimossi poiché un valore di `changeId` diverso indica che è stata apportata una modifica alla tabella perché i dati sono stati memorizzati nella cache.</span><span class="sxs-lookup"><span data-stu-id="9deab-143">The database is periodically checked and any `SqlCacheDependency` objects whose `changeId` differs from the value in the database are evicted since a differing `changeId` value indicates that there has been a change to the table since the data was cached.</span></span>

## <a name="step-1-exploring-theaspnet_regsqlexecommand-line-program"></a><span data-ttu-id="9deab-144">Passaggio 1: esplorazione del programma da riga di comando`aspnet_regsql.exe`</span><span class="sxs-lookup"><span data-stu-id="9deab-144">Step 1: Exploring the`aspnet_regsql.exe`Command Line Program</span></span>

<span data-ttu-id="9deab-145">Con l'approccio di polling è necessario configurare il database in modo che contenga l'infrastruttura descritta sopra: una tabella predefinita (`AspNet_SqlCacheTablesForChangeNotification`), una serie di stored procedure e trigger in ognuna delle tabelle che possono essere utilizzate nelle dipendenze della cache SQL nell'applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="9deab-145">With the polling approach the database must be setup to contain the infrastructure described above: a predefined table (`AspNet_SqlCacheTablesForChangeNotification`), a handful of stored procedures, and triggers on each of the tables that may be used in SQL cache dependencies in the web application.</span></span> <span data-ttu-id="9deab-146">Le tabelle, le stored procedure e i trigger possono essere creati tramite il programma da riga di comando `aspnet_regsql.exe`, disponibile nella cartella `$WINDOWS$\Microsoft.NET\Framework\version`.</span><span class="sxs-lookup"><span data-stu-id="9deab-146">These tables, stored procedures, and triggers can be created through the command line program `aspnet_regsql.exe`, which is found in the `$WINDOWS$\Microsoft.NET\Framework\version` folder.</span></span> <span data-ttu-id="9deab-147">Per creare la tabella `AspNet_SqlCacheTablesForChangeNotification` e le stored procedure associate, eseguire il comando seguente dalla riga di comando:</span><span class="sxs-lookup"><span data-stu-id="9deab-147">To create the `AspNet_SqlCacheTablesForChangeNotification` table and associated stored procedures, run the following from the command line:</span></span>

[!code-console[Main](using-sql-cache-dependencies-cs/samples/sample1.cmd)]

> [!NOTE]
> <span data-ttu-id="9deab-148">Per eseguire questi comandi, l'account di accesso al database specificato deve trovarsi nei ruoli [`db_securityadmin`](https://msdn.microsoft.com/library/ms188685.aspx) e [`db_ddladmin`](https://msdn.microsoft.com/library/ms190667.aspx) .</span><span class="sxs-lookup"><span data-stu-id="9deab-148">To execute these commands the specified database login must be in the [`db_securityadmin`](https://msdn.microsoft.com/library/ms188685.aspx) and [`db_ddladmin`](https://msdn.microsoft.com/library/ms190667.aspx) roles.</span></span> <span data-ttu-id="9deab-149">Per esaminare il T-SQL inviato al database dal programma `aspnet_regsql.exe` riga di comando, fare riferimento a [questo intervento di Blog](http://scottonwriting.net/sowblog/posts/10709.aspx).</span><span class="sxs-lookup"><span data-stu-id="9deab-149">To examine the T-SQL sent to the database by the `aspnet_regsql.exe` command line program, refer to [this blog entry](http://scottonwriting.net/sowblog/posts/10709.aspx).</span></span>

<span data-ttu-id="9deab-150">Ad esempio, per aggiungere l'infrastruttura per il polling a un database Microsoft SQL Server denominato `pubs` su un server di database denominato `ScottsServer` usando l'autenticazione di Windows, passare alla directory appropriata e, dalla riga di comando, immettere:</span><span class="sxs-lookup"><span data-stu-id="9deab-150">For example, to add the infrastructure for polling to a Microsoft SQL Server database named `pubs` on a database server named `ScottsServer` using Windows Authentication, navigate to the appropriate directory and, from the command line, enter:</span></span>

[!code-console[Main](using-sql-cache-dependencies-cs/samples/sample2.cmd)]

<span data-ttu-id="9deab-151">Una volta aggiunta l'infrastruttura a livello di database, è necessario aggiungere i trigger alle tabelle che verranno utilizzate nelle dipendenze della cache SQL.</span><span class="sxs-lookup"><span data-stu-id="9deab-151">After the database-level infrastructure has been added, we need to add the triggers to those tables that will be used in SQL cache dependencies.</span></span> <span data-ttu-id="9deab-152">Utilizzare di nuovo il programma `aspnet_regsql.exe` riga di comando, ma specificare il nome della tabella utilizzando l'opzione `-t` e invece di utilizzare l'opzione `-ed` utilizzare `-et`, come indicato di seguito:</span><span class="sxs-lookup"><span data-stu-id="9deab-152">Use the `aspnet_regsql.exe` command line program again, but specify the table name using the `-t` switch and instead of using the `-ed` switch use `-et`, like so:</span></span>

[!code-html[Main](using-sql-cache-dependencies-cs/samples/sample3.html)]

<span data-ttu-id="9deab-153">Per aggiungere i trigger alle tabelle `authors` e `titles` nel database `pubs` in `ScottsServer`, utilizzare:</span><span class="sxs-lookup"><span data-stu-id="9deab-153">To add the triggers to the `authors` and `titles` tables on the `pubs` database on `ScottsServer`, use:</span></span>

[!code-console[Main](using-sql-cache-dependencies-cs/samples/sample4.cmd)]

<span data-ttu-id="9deab-154">Per questa esercitazione aggiungere i trigger alle tabelle `Products`, `Categories`e `Suppliers`.</span><span class="sxs-lookup"><span data-stu-id="9deab-154">For this tutorial add the triggers to the `Products`, `Categories`, and `Suppliers` tables.</span></span> <span data-ttu-id="9deab-155">Si esaminerà la sintassi della riga di comando specifica nel passaggio 3.</span><span class="sxs-lookup"><span data-stu-id="9deab-155">We'll look at the particular command line syntax in Step 3.</span></span>

## <a name="step-2-referencing-a-microsoft-sql-server-2005-express-edition-database-inapp_data"></a><span data-ttu-id="9deab-156">Passaggio 2: fare riferimento a un database Microsoft SQL Server 2005 Express Edition in`App_Data`</span><span class="sxs-lookup"><span data-stu-id="9deab-156">Step 2: Referencing a Microsoft SQL Server 2005 Express Edition Database in`App_Data`</span></span>

<span data-ttu-id="9deab-157">Il `aspnet_regsql.exe` programma da riga di comando richiede il nome del server e del database per aggiungere l'infrastruttura di polling necessaria.</span><span class="sxs-lookup"><span data-stu-id="9deab-157">The `aspnet_regsql.exe` command line program requires the database and server name in order to add the necessary polling infrastructure.</span></span> <span data-ttu-id="9deab-158">Ma qual è il nome del database e del server per un database Microsoft SQL Server 2005 Express che risiede nella cartella `App_Data`?</span><span class="sxs-lookup"><span data-stu-id="9deab-158">But what is the database and server name for a Microsoft SQL Server 2005 Express database that resides in the `App_Data` folder?</span></span> <span data-ttu-id="9deab-159">Anziché dover individuare i nomi del database e del server, ho scoperto che l'approccio più semplice consiste nell'allineare il database all'istanza del database di `localhost\SQLExpress` e rinominare i dati usando [SQL Server Management Studio](https://msdn.microsoft.com/library/ms174173.aspx).</span><span class="sxs-lookup"><span data-stu-id="9deab-159">Rather than having to discover what the database and server names are, I ve found that the simplest approach is to attach the database to the `localhost\SQLExpress` database instance and rename the data using [SQL Server Management Studio](https://msdn.microsoft.com/library/ms174173.aspx).</span></span> <span data-ttu-id="9deab-160">Se nel computer è installata una delle versioni complete di SQL Server 2005, probabilmente è già installato SQL Server Management Studio nel computer.</span><span class="sxs-lookup"><span data-stu-id="9deab-160">If you have one of the full versions of SQL Server 2005 installed on your machine, then you likely already have SQL Server Management Studio installed on your computer.</span></span> <span data-ttu-id="9deab-161">Se si dispone solo di Express Edition, è possibile scaricare il [Microsoft SQL Server gratuito Management Studio Express Edition](https://www.microsoft.com/downloads/details.aspx?displaylang=en&amp;FamilyID=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796).</span><span class="sxs-lookup"><span data-stu-id="9deab-161">If you only have the Express edition, you can download the free [Microsoft SQL Server Management Studio Express Edition](https://www.microsoft.com/downloads/details.aspx?displaylang=en&amp;FamilyID=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796).</span></span>

<span data-ttu-id="9deab-162">Per iniziare, chiudere Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="9deab-162">Start by closing Visual Studio.</span></span> <span data-ttu-id="9deab-163">Successivamente, aprire SQL Server Management Studio e scegliere di connettersi al server `localhost\SQLExpress` utilizzando l'autenticazione di Windows.</span><span class="sxs-lookup"><span data-stu-id="9deab-163">Next, open SQL Server Management Studio and choose to connect to the `localhost\SQLExpress` server using Windows Authentication.</span></span>

![Connetti al server localhost\SQLExpress](using-sql-cache-dependencies-cs/_static/image1.gif)

<span data-ttu-id="9deab-165">**Figura 1**: connettersi al server `localhost\SQLExpress`</span><span class="sxs-lookup"><span data-stu-id="9deab-165">**Figure 1**: Attach to the `localhost\SQLExpress` Server</span></span>

<span data-ttu-id="9deab-166">Dopo la connessione al server, Management Studio mostrerà il server e le sottocartelle per i database, la sicurezza e così via.</span><span class="sxs-lookup"><span data-stu-id="9deab-166">After connecting to the server, Management Studio will show the server and have subfolders for the databases, security, and so forth.</span></span> <span data-ttu-id="9deab-167">Fare clic con il pulsante destro del mouse sulla cartella database e scegliere l'opzione Connetti.</span><span class="sxs-lookup"><span data-stu-id="9deab-167">Right-click on the Databases folder and choose the Attach option.</span></span> <span data-ttu-id="9deab-168">Verrà visualizzata la finestra di dialogo Connetti database (vedere la figura 2).</span><span class="sxs-lookup"><span data-stu-id="9deab-168">This will bring up the Attach Databases dialog box (see Figure 2).</span></span> <span data-ttu-id="9deab-169">Fare clic sul pulsante Aggiungi e selezionare la cartella `NORTHWND.MDF` database nella cartella `App_Data` dell'applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="9deab-169">Click the Add button and select the `NORTHWND.MDF` database folder in your web application s `App_Data` folder.</span></span>

<span data-ttu-id="9deab-170">[![alleghino NORTHWND. Database MDF dalla cartella App_Data](using-sql-cache-dependencies-cs/_static/image2.gif)](using-sql-cache-dependencies-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="9deab-170">[![Attach the NORTHWND.MDF Database from the App_Data Folder](using-sql-cache-dependencies-cs/_static/image2.gif)](using-sql-cache-dependencies-cs/_static/image1.png)</span></span>

<span data-ttu-id="9deab-171">**Figura 2**: allineare il database `NORTHWND.MDF` dalla cartella `App_Data` ([fare clic per visualizzare l'immagine con dimensioni complete](using-sql-cache-dependencies-cs/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="9deab-171">**Figure 2**: Attach the `NORTHWND.MDF` Database from the `App_Data` Folder ([Click to view full-size image](using-sql-cache-dependencies-cs/_static/image2.png))</span></span>

<span data-ttu-id="9deab-172">Il database verrà aggiunto alla cartella database.</span><span class="sxs-lookup"><span data-stu-id="9deab-172">This will add the database to the Databases folder.</span></span> <span data-ttu-id="9deab-173">Il nome del database potrebbe essere il percorso completo del file di database o il percorso completo anteposto a un [GUID](http://en.wikipedia.org/wiki/Globally_Unique_Identifier).</span><span class="sxs-lookup"><span data-stu-id="9deab-173">The database name might be the full path to the database file or the full path prepended with a [GUID](http://en.wikipedia.org/wiki/Globally_Unique_Identifier).</span></span> <span data-ttu-id="9deab-174">Per evitare di dover digitare questo nome di database lungo quando si utilizza lo strumento della riga di comando ASPNET\_RegSql. exe, rinominare il database con un nome più descrittivo facendo clic con il pulsante destro del mouse sul database appena collegato e scegliendo Rinomina.</span><span class="sxs-lookup"><span data-stu-id="9deab-174">To avoid having to type in this lengthy database name when using the aspnet\_regsql.exe command line tool, rename the database to a more human-friendly name by right-clicking on database just attached and choosing Rename.</span></span> <span data-ttu-id="9deab-175">Il database è stato rinominato in datatutorials.</span><span class="sxs-lookup"><span data-stu-id="9deab-175">I ve renamed my database to DataTutorials .</span></span>

![Rinominare il database collegato con un nome più descrittivo](using-sql-cache-dependencies-cs/_static/image3.gif)

<span data-ttu-id="9deab-177">**Figura 3**: rinominare il database collegato con un nome più descrittivo</span><span class="sxs-lookup"><span data-stu-id="9deab-177">**Figure 3**: Rename the Attached Database to a More Human-Friendly Name</span></span>

## <a name="step-3-adding-the-polling-infrastructure-to-the-northwind-database"></a><span data-ttu-id="9deab-178">Passaggio 3: aggiunta dell'infrastruttura di polling al database Northwind</span><span class="sxs-lookup"><span data-stu-id="9deab-178">Step 3: Adding the Polling Infrastructure to the Northwind Database</span></span>

<span data-ttu-id="9deab-179">Ora che è stato collegato il database `NORTHWND.MDF` dalla cartella `App_Data`, è possibile aggiungere l'infrastruttura di polling.</span><span class="sxs-lookup"><span data-stu-id="9deab-179">Now that we have attached the `NORTHWND.MDF` database from the `App_Data` folder, we re ready to add the polling infrastructure.</span></span> <span data-ttu-id="9deab-180">Supponendo che il database sia stato rinominato in datatutorials, eseguire i quattro comandi seguenti:</span><span class="sxs-lookup"><span data-stu-id="9deab-180">Assuming that you ve renamed the database to DataTutorials, run the following four commands:</span></span>

[!code-console[Main](using-sql-cache-dependencies-cs/samples/sample5.cmd)]

<span data-ttu-id="9deab-181">Dopo aver eseguito questi quattro comandi, fare clic con il pulsante destro del mouse sul nome del database in Management Studio, passare al sottomenu attività e scegliere Scollega.</span><span class="sxs-lookup"><span data-stu-id="9deab-181">After running these four commands, right-click on the database name in Management Studio, go to the Tasks submenu, and choose Detach.</span></span> <span data-ttu-id="9deab-182">Chiudere quindi Management Studio e riaprire Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="9deab-182">Then close Management Studio and reopen Visual Studio.</span></span>

<span data-ttu-id="9deab-183">Dopo la riapertura di Visual Studio, eseguire il drill-through del database tramite la Esplora server.</span><span class="sxs-lookup"><span data-stu-id="9deab-183">Once Visual Studio has reopened, drill into the database through the Server Explorer.</span></span> <span data-ttu-id="9deab-184">Si noti la nuova tabella (`AspNet_SqlCacheTablesForChangeNotification`), le nuove stored procedure e i trigger nelle tabelle `Products`, `Categories`e `Suppliers`.</span><span class="sxs-lookup"><span data-stu-id="9deab-184">Note the new table (`AspNet_SqlCacheTablesForChangeNotification`), the new stored procedures, and the triggers on the `Products`, `Categories`, and `Suppliers` tables.</span></span>

![Il database include ora l'infrastruttura di polling necessaria](using-sql-cache-dependencies-cs/_static/image4.gif)

<span data-ttu-id="9deab-186">**Figura 4**: il database include ora l'infrastruttura di polling necessaria</span><span class="sxs-lookup"><span data-stu-id="9deab-186">**Figure 4**: The Database Now Includes the Necessary Polling Infrastructure</span></span>

## <a name="step-4-configuring-the-polling-service"></a><span data-ttu-id="9deab-187">Passaggio 4: configurazione del servizio di polling</span><span class="sxs-lookup"><span data-stu-id="9deab-187">Step 4: Configuring the Polling Service</span></span>

<span data-ttu-id="9deab-188">Dopo aver creato le tabelle, i trigger e le stored procedure necessarie nel database, il passaggio finale consiste nel configurare il servizio di polling, operazione eseguita tramite `Web.config` specificando i database da utilizzare e la frequenza di polling in millisecondi.</span><span class="sxs-lookup"><span data-stu-id="9deab-188">After creating the needed tables, triggers, and stored procedures in the database, the final step is to configure the polling service, which is done through `Web.config` by specifying the databases to use and the polling frequency in milliseconds.</span></span> <span data-ttu-id="9deab-189">Il markup seguente esegue il polling del database Northwind una volta al secondo.</span><span class="sxs-lookup"><span data-stu-id="9deab-189">The following markup polls the Northwind database once every second.</span></span>

[!code-xml[Main](using-sql-cache-dependencies-cs/samples/sample6.xml)]

<span data-ttu-id="9deab-190">Il valore `name` nell'elemento `<add>` (NorthwindDB) associa un nome leggibile a un database specifico.</span><span class="sxs-lookup"><span data-stu-id="9deab-190">The `name` value in the `<add>` element ( NorthwindDB ) associates a human-readable name with a particular database.</span></span> <span data-ttu-id="9deab-191">Quando si usano le dipendenze della cache SQL, è necessario fare riferimento al nome del database definito qui e alla tabella su cui si basano i dati memorizzati nella cache.</span><span class="sxs-lookup"><span data-stu-id="9deab-191">When working with SQL cache dependencies, we'll need to refer to the database name defined here as well as the table that the cached data is based on.</span></span> <span data-ttu-id="9deab-192">Si vedrà come usare la classe `SqlCacheDependency` per associare a livello di codice le dipendenze della cache SQL con i dati memorizzati nella cache nel passaggio 6.</span><span class="sxs-lookup"><span data-stu-id="9deab-192">We'll see how to use the `SqlCacheDependency` class to programmatically associate SQL cache dependencies with cached data in Step 6.</span></span>

<span data-ttu-id="9deab-193">Una volta stabilita una dipendenza della cache SQL, il sistema di polling si connetterà ai database definiti negli elementi `<databases>` ogni `pollTime` millisecondi ed eseguirà il `AspNet_SqlCachePollingStoredProcedure` stored procedure.</span><span class="sxs-lookup"><span data-stu-id="9deab-193">Once a SQL cache dependency has been established, the polling system will connect to the databases defined in the `<databases>` elements every `pollTime` milliseconds and execute the `AspNet_SqlCachePollingStoredProcedure` stored procedure.</span></span> <span data-ttu-id="9deab-194">Questo stored procedure, che è stato aggiunto di nuovo al passaggio 3 mediante lo strumento da riga di comando `aspnet_regsql.exe`-restituisce i valori di `tableName` e `changeId` per ogni record in `AspNet_SqlCacheTablesForChangeNotification`.</span><span class="sxs-lookup"><span data-stu-id="9deab-194">This stored procedure - which was added back in Step 3 using the `aspnet_regsql.exe` command line tool - returns the `tableName` and `changeId` values for each record in `AspNet_SqlCacheTablesForChangeNotification`.</span></span> <span data-ttu-id="9deab-195">Le dipendenze della cache SQL obsolete vengono eliminate dalla cache.</span><span class="sxs-lookup"><span data-stu-id="9deab-195">Outdated SQL cache dependencies are evicted from the cache.</span></span>

<span data-ttu-id="9deab-196">L'impostazione `pollTime` introduce un compromesso tra prestazioni e obsolescenza dei dati.</span><span class="sxs-lookup"><span data-stu-id="9deab-196">The `pollTime` setting introduces a tradeoff between performance and data staleness.</span></span> <span data-ttu-id="9deab-197">Un piccolo valore di `pollTime` aumenta il numero di richieste al database, ma rimuove più rapidamente i dati non aggiornati dalla cache.</span><span class="sxs-lookup"><span data-stu-id="9deab-197">A small `pollTime` value increases the number of requests to the database, but more quickly evicts stale data from the cache.</span></span> <span data-ttu-id="9deab-198">Un valore di `pollTime` maggiore riduce il numero di richieste di database, ma aumenta il ritardo tra il momento in cui i dati back-end cambiano e quando gli elementi della cache correlati vengono rimossi.</span><span class="sxs-lookup"><span data-stu-id="9deab-198">A larger `pollTime` value reduces the number of database requests, but increases the delay between when the backend data changes and when the related cache items are evicted.</span></span> <span data-ttu-id="9deab-199">Fortunatamente, la richiesta di database esegue una semplice stored procedure che restituisce solo poche righe da una semplice tabella leggera.</span><span class="sxs-lookup"><span data-stu-id="9deab-199">Fortunately, the database request is executing a simple stored procedure that s returning just a few rows from a simple, lightweight table.</span></span> <span data-ttu-id="9deab-200">Tuttavia, provare a usare valori `pollTime` diversi per trovare un equilibrio ideale tra l'accesso ai database e l'obsolescenza dei dati per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9deab-200">But do experiment with different `pollTime` values to find an ideal balance between database access and data staleness for your application.</span></span> <span data-ttu-id="9deab-201">Il valore di `pollTime` più piccolo consentito è 500.</span><span class="sxs-lookup"><span data-stu-id="9deab-201">The smallest `pollTime` value allowed is 500.</span></span>

> [!NOTE]
> <span data-ttu-id="9deab-202">Nell'esempio precedente viene fornito un singolo valore `pollTime` nell'elemento `<sqlCacheDependency>`, ma è possibile specificare facoltativamente il valore `pollTime` nell'elemento `<add>`.</span><span class="sxs-lookup"><span data-stu-id="9deab-202">The above example provides a single `pollTime` value in the `<sqlCacheDependency>` element, but you can optionally specify the `pollTime` value in the `<add>` element.</span></span> <span data-ttu-id="9deab-203">Questa operazione è utile se sono stati specificati più database e si desidera personalizzare la frequenza di polling per ogni database.</span><span class="sxs-lookup"><span data-stu-id="9deab-203">This is useful if you have multiple databases specified and want to customize the polling frequency per database.</span></span>

## <a name="step-5-declaratively-working-with-sql-cache-dependencies"></a><span data-ttu-id="9deab-204">Passaggio 5: utilizzo dichiarativo delle dipendenze della cache SQL</span><span class="sxs-lookup"><span data-stu-id="9deab-204">Step 5: Declaratively Working with SQL Cache Dependencies</span></span>

<span data-ttu-id="9deab-205">Nei passaggi da 1 a 4 è stata esaminata la procedura di configurazione dell'infrastruttura di database necessaria e la configurazione del sistema di polling.</span><span class="sxs-lookup"><span data-stu-id="9deab-205">In Steps 1 through 4 we looked at how to setup the necessary database infrastructure and configure the polling system.</span></span> <span data-ttu-id="9deab-206">Con questa infrastruttura, è ora possibile aggiungere elementi alla cache di dati con una dipendenza della cache SQL associata usando tecniche programmatiche o dichiarative.</span><span class="sxs-lookup"><span data-stu-id="9deab-206">With this infrastructure in place, we can now add items to the data cache with an associated SQL cache dependency using either programmatic or declarative techniques.</span></span> <span data-ttu-id="9deab-207">In questo passaggio verrà esaminato come usare in modo dichiarativo le dipendenze della cache SQL.</span><span class="sxs-lookup"><span data-stu-id="9deab-207">In this step we'll examine how to declaratively work with SQL cache dependencies.</span></span> <span data-ttu-id="9deab-208">Nel passaggio 6 verrà esaminato l'approccio programmatico.</span><span class="sxs-lookup"><span data-stu-id="9deab-208">In Step 6 we'll look at the programmatic approach.</span></span>

<span data-ttu-id="9deab-209">I [dati di memorizzazione nella cache con l'](caching-data-with-the-objectdatasource-cs.md) esercitazione di ObjectDataSource esplorano le funzionalità di memorizzazione nella cache dichiarative di ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="9deab-209">The [Caching Data with the ObjectDataSource](caching-data-with-the-objectdatasource-cs.md) tutorial explored the declarative caching capabilities of the ObjectDataSource.</span></span> <span data-ttu-id="9deab-210">Impostando semplicemente la proprietà `EnableCaching` su `true` e la proprietà `CacheDuration` su un intervallo di tempo, ObjectDataSource memorizza automaticamente nella cache i dati restituiti dall'oggetto sottostante per l'intervallo specificato.</span><span class="sxs-lookup"><span data-stu-id="9deab-210">By simply setting the `EnableCaching` property to `true` and the `CacheDuration` property to some time interval, the ObjectDataSource will automatically cache the data returned from its underlying object for the specified interval.</span></span> <span data-ttu-id="9deab-211">ObjectDataSource può inoltre utilizzare una o più dipendenze della cache SQL.</span><span class="sxs-lookup"><span data-stu-id="9deab-211">The ObjectDataSource can also use one or more SQL cache dependencies.</span></span>

<span data-ttu-id="9deab-212">Per illustrare l'uso dichiarativo delle dipendenze della cache SQL, aprire la pagina `SqlCacheDependencies.aspx` nella cartella `Caching` e trascinare un controllo GridView dalla casella degli strumenti nella finestra di progettazione.</span><span class="sxs-lookup"><span data-stu-id="9deab-212">To demonstrate using SQL cache dependencies declaratively, open the `SqlCacheDependencies.aspx` page in the `Caching` folder and drag a GridView from the Toolbox onto the Designer.</span></span> <span data-ttu-id="9deab-213">Impostare il `ID` di GridView su `ProductsDeclarative` e, dal relativo smart tag, scegliere di associarlo a un nuovo ObjectDataSource denominato `ProductsDataSourceDeclarative`.</span><span class="sxs-lookup"><span data-stu-id="9deab-213">Set the GridView s `ID` to `ProductsDeclarative` and, from its smart tag, choose to bind it to a new ObjectDataSource named `ProductsDataSourceDeclarative`.</span></span>

<span data-ttu-id="9deab-214">[![creare un nuovo ObjectDataSource denominato ProductsDataSourceDeclarative](using-sql-cache-dependencies-cs/_static/image5.gif)](using-sql-cache-dependencies-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="9deab-214">[![Create a New ObjectDataSource Named ProductsDataSourceDeclarative](using-sql-cache-dependencies-cs/_static/image5.gif)](using-sql-cache-dependencies-cs/_static/image3.png)</span></span>

<span data-ttu-id="9deab-215">**Figura 5**: creare un nuovo ObjectDataSource denominato `ProductsDataSourceDeclarative` ([fare clic per visualizzare l'immagine con dimensioni complete](using-sql-cache-dependencies-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="9deab-215">**Figure 5**: Create a New ObjectDataSource Named `ProductsDataSourceDeclarative` ([Click to view full-size image](using-sql-cache-dependencies-cs/_static/image4.png))</span></span>

<span data-ttu-id="9deab-216">Configurare ObjectDataSource per usare la classe `ProductsBLL` e impostare l'elenco a discesa nella scheda Seleziona `GetProducts()`.</span><span class="sxs-lookup"><span data-stu-id="9deab-216">Configure the ObjectDataSource to use the `ProductsBLL` class and set the drop-down list in the SELECT tab to `GetProducts()`.</span></span> <span data-ttu-id="9deab-217">Nella scheda aggiornamento, scegliere l'overload di `UpdateProduct` con tre parametri di input: `productName`, `unitPrice`e `productID`.</span><span class="sxs-lookup"><span data-stu-id="9deab-217">In the UPDATE tab, choose the `UpdateProduct` overload with three input parameters - `productName`, `unitPrice`, and `productID`.</span></span> <span data-ttu-id="9deab-218">Impostare gli elenchi a discesa su (nessuno) nelle schede Inserisci ed Elimina.</span><span class="sxs-lookup"><span data-stu-id="9deab-218">Set the drop-down lists to (None) in the INSERT and DELETE tabs.</span></span>

<span data-ttu-id="9deab-219">[![usare l'overload di UpdateProduct con tre parametri di input](using-sql-cache-dependencies-cs/_static/image6.gif)](using-sql-cache-dependencies-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="9deab-219">[![Use the UpdateProduct Overload with Three Input Parameters](using-sql-cache-dependencies-cs/_static/image6.gif)](using-sql-cache-dependencies-cs/_static/image5.png)</span></span>

<span data-ttu-id="9deab-220">**Figura 6**: usare l'overload di UpdateProduct con tre parametri di input ([fare clic per visualizzare l'immagine con dimensioni complete](using-sql-cache-dependencies-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="9deab-220">**Figure 6**: Use the UpdateProduct Overload with Three Input Parameters ([Click to view full-size image](using-sql-cache-dependencies-cs/_static/image6.png))</span></span>

<span data-ttu-id="9deab-221">[![impostare l'elenco a discesa su (nessuno) per le schede Inserisci ed Elimina](using-sql-cache-dependencies-cs/_static/image7.gif)](using-sql-cache-dependencies-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="9deab-221">[![Set the Drop-Down List to (None) for the INSERT and DELETE Tabs](using-sql-cache-dependencies-cs/_static/image7.gif)](using-sql-cache-dependencies-cs/_static/image7.png)</span></span>

<span data-ttu-id="9deab-222">**Figura 7**: impostare l'elenco a discesa su (nessuno) per le schede Inserisci ed Elimina ([fare clic per visualizzare l'immagine con dimensioni complete](using-sql-cache-dependencies-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="9deab-222">**Figure 7**: Set the Drop-Down List to (None) for the INSERT and DELETE Tabs ([Click to view full-size image](using-sql-cache-dependencies-cs/_static/image8.png))</span></span>

<span data-ttu-id="9deab-223">Dopo aver completato la configurazione guidata origine dati, Visual Studio creerà i BoundField e CheckBoxFields in GridView per ogni campo dati.</span><span class="sxs-lookup"><span data-stu-id="9deab-223">After completing the Configure Data Source wizard, Visual Studio will create BoundFields and CheckBoxFields in the GridView for each of the data fields.</span></span> <span data-ttu-id="9deab-224">Rimuovere tutti i campi, ma `ProductName`, `CategoryName`e `UnitPrice`, quindi formattare i campi in base alle esigenze.</span><span class="sxs-lookup"><span data-stu-id="9deab-224">Remove all fields but `ProductName`, `CategoryName`, and `UnitPrice`, and format these fields as you see fit.</span></span> <span data-ttu-id="9deab-225">Dallo smart tag GridView s selezionare le caselle di controllo Abilita paging, Abilita ordinamento e Abilita modifica.</span><span class="sxs-lookup"><span data-stu-id="9deab-225">From the GridView s smart tag, check the Enable Paging, Enable Sorting, and Enable Editing checkboxes.</span></span> <span data-ttu-id="9deab-226">In Visual Studio la proprietà `OldValuesParameterFormatString` di ObjectDataSource viene impostata su `original_{0}`.</span><span class="sxs-lookup"><span data-stu-id="9deab-226">Visual Studio will set the ObjectDataSource s `OldValuesParameterFormatString` property to `original_{0}`.</span></span> <span data-ttu-id="9deab-227">Per il corretto funzionamento della funzionalità di modifica di GridView, rimuovere completamente questa proprietà dalla sintassi dichiarativa o impostarla di nuovo sul valore predefinito `{0}`.</span><span class="sxs-lookup"><span data-stu-id="9deab-227">In order for the GridView s edit feature to work properly, either remove this property entirely from the declarative syntax or set it back to its default value, `{0}`.</span></span>

<span data-ttu-id="9deab-228">Infine, aggiungere un controllo Web Label sopra GridView e impostare la relativa proprietà `ID` su `ODSEvents` e la relativa proprietà `EnableViewState` su `false`.</span><span class="sxs-lookup"><span data-stu-id="9deab-228">Finally, add a Label Web control above the GridView and set its `ID` property to `ODSEvents` and its `EnableViewState` property to `false`.</span></span> <span data-ttu-id="9deab-229">Dopo aver apportato queste modifiche, il markup dichiarativo della pagina avrà un aspetto simile al seguente.</span><span class="sxs-lookup"><span data-stu-id="9deab-229">After making these changes, your page s declarative markup should look similar to the following.</span></span> <span data-ttu-id="9deab-230">Si noti che sono state apportate alcune personalizzazioni estetiche ai campi GridView che non sono necessarie per dimostrare la funzionalità di dipendenza della cache SQL.</span><span class="sxs-lookup"><span data-stu-id="9deab-230">Note that I ve made a number of aesthetic customizations to the GridView fields that are not necessary to demonstrate the SQL cache dependency functionality.</span></span>

[!code-aspx[Main](using-sql-cache-dependencies-cs/samples/sample7.aspx)]

<span data-ttu-id="9deab-231">Successivamente, creare un gestore eventi per l'evento ObjectDataSource s `Selecting` e aggiungere il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="9deab-231">Next, create an event handler for the ObjectDataSource s `Selecting` event and in it add the following code:</span></span>

[!code-csharp[Main](using-sql-cache-dependencies-cs/samples/sample8.cs)]

<span data-ttu-id="9deab-232">Tenere presente che l'evento `Selecting` di ObjectDataSource viene generato solo quando si recuperano i dati dall'oggetto sottostante.</span><span class="sxs-lookup"><span data-stu-id="9deab-232">Recall that the ObjectDataSource s `Selecting` event fires only when retrieving data from its underlying object.</span></span> <span data-ttu-id="9deab-233">Se ObjectDataSource accede ai dati dalla propria cache, questo evento non viene generato.</span><span class="sxs-lookup"><span data-stu-id="9deab-233">If the ObjectDataSource accesses the data from its own cache, this event is not fired.</span></span>

<span data-ttu-id="9deab-234">A questo punto, visitare questa pagina tramite un browser.</span><span class="sxs-lookup"><span data-stu-id="9deab-234">Now, visit this page through a browser.</span></span> <span data-ttu-id="9deab-235">Poiché è ancora necessario implementare la memorizzazione nella cache, ogni volta che si esegue la pagina, si ordina o si modifica la griglia, la pagina deve visualizzare il testo, selezionando l'evento generato, come illustrato nella figura 8.</span><span class="sxs-lookup"><span data-stu-id="9deab-235">Since we ve yet to implement any caching, each time you page, sort, or edit the grid the page should display the text, �Selecting event fired, as Figure 8 shows.</span></span>

<span data-ttu-id="9deab-236">[![l'evento di selezione di ObjectDataSource s viene generato ogni volta che il controllo GridView viene sottoposto a paging, modificato o ordinato](using-sql-cache-dependencies-cs/_static/image8.gif)](using-sql-cache-dependencies-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="9deab-236">[![The ObjectDataSource s Selecting Event Fires Each Time the GridView is Paged, Edited, or Sorted](using-sql-cache-dependencies-cs/_static/image8.gif)](using-sql-cache-dependencies-cs/_static/image9.png)</span></span>

<span data-ttu-id="9deab-237">**Figura 8**: l'evento `Selecting` di ObjectDataSource viene generato ogni volta che il controllo GridView viene sottoposto a paging, modificato o ordinato ([fare clic per visualizzare l'immagine con dimensioni complete](using-sql-cache-dependencies-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="9deab-237">**Figure 8**: The ObjectDataSource s `Selecting` Event Fires Each Time the GridView is Paged, Edited, or Sorted ([Click to view full-size image](using-sql-cache-dependencies-cs/_static/image10.png))</span></span>

<span data-ttu-id="9deab-238">Come illustrato nell'esercitazione relativa alla [memorizzazione dei dati nella cache con ObjectDataSource](caching-data-with-the-objectdatasource-cs.md) , l'impostazione della proprietà `EnableCaching` su `true` fa in modo che ObjectDataSource memorizzi nella cache i dati per la durata specificata dalla relativa proprietà `CacheDuration`.</span><span class="sxs-lookup"><span data-stu-id="9deab-238">As we saw in the [Caching Data with the ObjectDataSource](caching-data-with-the-objectdatasource-cs.md) tutorial, setting the `EnableCaching` property to `true` causes the ObjectDataSource to cache its data for the duration specified by its `CacheDuration` property.</span></span> <span data-ttu-id="9deab-239">ObjectDataSource dispone anche di una [proprietà`SqlCacheDependency`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasource.sqlcachedependency.aspx), che aggiunge una o più dipendenze della cache SQL ai dati memorizzati nella cache usando il modello:</span><span class="sxs-lookup"><span data-stu-id="9deab-239">The ObjectDataSource also has a [`SqlCacheDependency` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasource.sqlcachedependency.aspx), which adds one or more SQL cache dependencies to the cached data using the pattern:</span></span>

[!code-css[Main](using-sql-cache-dependencies-cs/samples/sample9.css)]

<span data-ttu-id="9deab-240">Dove *DatabaseName* è il nome del database specificato nell'attributo `name` dell'elemento `<add>` in `Web.config`e *TableName* è il nome della tabella di database.</span><span class="sxs-lookup"><span data-stu-id="9deab-240">Where *databaseName* is the name of the database as specified in the `name` attribute of the `<add>` element in `Web.config`, and *tableName* is the name of the database table.</span></span> <span data-ttu-id="9deab-241">Ad esempio, per creare un ObjectDataSource che memorizza nella cache i dati a tempo indeterminato in base a una dipendenza della cache SQL rispetto alla tabella `Products` di Northwind, impostare la proprietà `EnableCaching` di ObjectDataSource su `true` e la relativa proprietà `SqlCacheDependency` su NorthwindDB: Products.</span><span class="sxs-lookup"><span data-stu-id="9deab-241">For example, to create an ObjectDataSource that caches data indefinitely based on a SQL cache dependency against the Northwind s `Products` table, set the ObjectDataSource s `EnableCaching` property to `true` and its `SqlCacheDependency` property to NorthwindDB:Products .</span></span>

> [!NOTE]
> <span data-ttu-id="9deab-242">È possibile utilizzare una dipendenza della cache SQL *e* una scadenza basata sul tempo impostando `EnableCaching` su `true`, `CacheDuration` all'intervallo di tempo e `SqlCacheDependency` ai nomi di database e di tabella.</span><span class="sxs-lookup"><span data-stu-id="9deab-242">You can use a SQL cache dependency *and* a time-based expiry by setting `EnableCaching` to `true`, `CacheDuration` to the time interval, and `SqlCacheDependency` to the database and table name(s).</span></span> <span data-ttu-id="9deab-243">ObjectDataSource eliminerà i dati quando viene raggiunta la scadenza basata sul tempo o quando il sistema di polling rileva che i dati del database sottostanti sono stati modificati, a seconda di quale evento si verifica per primo.</span><span class="sxs-lookup"><span data-stu-id="9deab-243">The ObjectDataSource will evict its data when the time-based expiry is reached or when the polling system notes that the underlying database data has changed, whichever happens first.</span></span>

<span data-ttu-id="9deab-244">GridView in `SqlCacheDependencies.aspx` Visualizza i dati di due tabelle, `Products` e `Categories` (il campo `CategoryName` del prodotto viene recuperato tramite un `JOIN` in `Categories`).</span><span class="sxs-lookup"><span data-stu-id="9deab-244">The GridView in `SqlCacheDependencies.aspx` displays data from two tables - `Products` and `Categories` (the product s `CategoryName` field is retrieved via a `JOIN` on `Categories`).</span></span> <span data-ttu-id="9deab-245">Pertanto, si desidera specificare due dipendenze della cache SQL: NorthwindDB: Products; NorthwindDB: categorie.</span><span class="sxs-lookup"><span data-stu-id="9deab-245">Therefore, we want to specify two SQL cache dependencies: NorthwindDB:Products;NorthwindDB:Categories .</span></span>

<span data-ttu-id="9deab-246">[![configurare ObjectDataSource per supportare la memorizzazione nella cache usando le dipendenze della cache SQL da prodotti e categorie](using-sql-cache-dependencies-cs/_static/image9.gif)](using-sql-cache-dependencies-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="9deab-246">[![Configure the ObjectDataSource to Support Caching Using SQL Cache Dependencies on Products and Categories](using-sql-cache-dependencies-cs/_static/image9.gif)](using-sql-cache-dependencies-cs/_static/image11.png)</span></span>

<span data-ttu-id="9deab-247">**Figura 9**: configurare ObjectDataSource per supportare la memorizzazione nella cache usando le dipendenze della cache SQL in `Products` e `Categories` ([fare clic per visualizzare l'immagine con dimensioni complete](using-sql-cache-dependencies-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="9deab-247">**Figure 9**: Configure the ObjectDataSource to Support Caching Using SQL Cache Dependencies on `Products` and `Categories` ([Click to view full-size image](using-sql-cache-dependencies-cs/_static/image12.png))</span></span>

<span data-ttu-id="9deab-248">Dopo aver configurato ObjectDataSource per supportare la memorizzazione nella cache, rivedere la pagina tramite un browser.</span><span class="sxs-lookup"><span data-stu-id="9deab-248">After configuring the ObjectDataSource to support caching, revisit the page through a browser.</span></span> <span data-ttu-id="9deab-249">Anche in questo caso, l'evento di selezione del testo generato dovrebbe essere visualizzato nella prima pagina visita, ma dovrebbe scomparire quando si esegue il paging, l'ordinamento o si fa clic sui pulsanti modifica o Annulla.</span><span class="sxs-lookup"><span data-stu-id="9deab-249">Again, the text �Selecting event fired should appear on the first page visit, but should go away when paging, sorting, or clicking the Edit or Cancel buttons.</span></span> <span data-ttu-id="9deab-250">Questo perché, dopo il caricamento dei dati nella cache di ObjectDataSource, rimane disponibile fino a quando non vengono modificate le tabelle `Products` o `Categories` o i dati vengono aggiornati tramite GridView.</span><span class="sxs-lookup"><span data-stu-id="9deab-250">This is because after the data is loaded into the ObjectDataSource s cache, it remains there until the `Products` or `Categories` tables are modified or the data is updated through the GridView.</span></span>

<span data-ttu-id="9deab-251">Dopo aver eseguito il paging della griglia e annotare la mancanza del testo generato dall'evento, aprire una nuova finestra del browser e passare all'esercitazione nozioni di base nella sezione modifica, inserimento ed eliminazione (`~/EditInsertDelete/Basics.aspx`).</span><span class="sxs-lookup"><span data-stu-id="9deab-251">After paging through the grid and noting the lack of the �Selecting event fired text, open a new browser window and navigate to the Basics tutorial in the Editing, Inserting, and Deleting section (`~/EditInsertDelete/Basics.aspx`).</span></span> <span data-ttu-id="9deab-252">Aggiornare il nome o il prezzo di un prodotto.</span><span class="sxs-lookup"><span data-stu-id="9deab-252">Update the name or price of a product.</span></span> <span data-ttu-id="9deab-253">Quindi, da alla prima finestra del browser, visualizzare un'altra pagina di dati, ordinare la griglia oppure fare clic sul pulsante di modifica di una riga.</span><span class="sxs-lookup"><span data-stu-id="9deab-253">Then, from to the first browser window, view a different page of data, sort the grid, or click a row s Edit button.</span></span> <span data-ttu-id="9deab-254">Questa volta, l'evento di selezione generato dovrebbe essere visualizzato nuovamente, perché i dati di database sottostanti sono stati modificati (vedere la figura 10).</span><span class="sxs-lookup"><span data-stu-id="9deab-254">This time, the �Selecting event fired should reappear, as the underlying database data has been modified (see Figure 10).</span></span> <span data-ttu-id="9deab-255">Se il testo non viene visualizzato, attendere qualche istante e riprovare.</span><span class="sxs-lookup"><span data-stu-id="9deab-255">If the text does not appear, wait a few moments and try again.</span></span> <span data-ttu-id="9deab-256">Tenere presente che il servizio di polling sta controllando le modifiche apportate alla tabella `Products` ogni `pollTime` millisecondi, pertanto si verifica un ritardo tra il momento in cui i dati sottostanti vengono aggiornati e quando i dati memorizzati nella cache vengono rimossi.</span><span class="sxs-lookup"><span data-stu-id="9deab-256">Remember that the polling service is checking for changes to the `Products` table every `pollTime` milliseconds, so there is a delay between when the underlying data is updated and when the cached data is evicted.</span></span>

<span data-ttu-id="9deab-257">[![modifica della tabella Products rimuove i dati del prodotto memorizzati nella cache](using-sql-cache-dependencies-cs/_static/image10.gif)](using-sql-cache-dependencies-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="9deab-257">[![Modifying the Products Table Evicts the Cached Product Data](using-sql-cache-dependencies-cs/_static/image10.gif)](using-sql-cache-dependencies-cs/_static/image13.png)</span></span>

<span data-ttu-id="9deab-258">**Figura 10**: la modifica della tabella Products consente di rimuovere i dati del prodotto memorizzati nella cache ([fare clic per visualizzare l'immagine con dimensioni complete](using-sql-cache-dependencies-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="9deab-258">**Figure 10**: Modifying the Products Table Evicts the Cached Product Data ([Click to view full-size image](using-sql-cache-dependencies-cs/_static/image14.png))</span></span>

## <a name="step-6-programmatically-working-with-thesqlcachedependencyclass"></a><span data-ttu-id="9deab-259">Passaggio 6: utilizzo della classe`SqlCacheDependency`a livello di codice</span><span class="sxs-lookup"><span data-stu-id="9deab-259">Step 6: Programmatically Working with the`SqlCacheDependency`Class</span></span>

<span data-ttu-id="9deab-260">I [dati di memorizzazione nella cache nell'](caching-data-in-the-architecture-cs.md) esercitazione sull'architettura hanno esaminato i vantaggi derivanti dall'utilizzo di un livello di memorizzazione nella cache separato nell'architettura, invece di associare strettamente la memorizzazione nella cache a ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="9deab-260">The [Caching Data in the Architecture](caching-data-in-the-architecture-cs.md) tutorial looked at the benefits of using a separate Caching Layer in the architecture as opposed to tightly coupling the caching with the ObjectDataSource.</span></span> <span data-ttu-id="9deab-261">In questa esercitazione è stata creata una classe `ProductsCL` per illustrare l'uso a livello di codice della cache dei dati.</span><span class="sxs-lookup"><span data-stu-id="9deab-261">In that tutorial we created a `ProductsCL` class to demonstrate programmatically working with the data cache.</span></span> <span data-ttu-id="9deab-262">Per utilizzare le dipendenze della cache SQL nel livello di memorizzazione nella cache, utilizzare la classe `SqlCacheDependency`.</span><span class="sxs-lookup"><span data-stu-id="9deab-262">To utilize SQL cache dependencies in the Caching Layer, use the `SqlCacheDependency` class.</span></span>

<span data-ttu-id="9deab-263">Con il sistema di polling, un oggetto `SqlCacheDependency` deve essere associato a una particolare coppia di tabelle e database.</span><span class="sxs-lookup"><span data-stu-id="9deab-263">With the polling system, a `SqlCacheDependency` object must be associated with a particular database and table pair.</span></span> <span data-ttu-id="9deab-264">Il codice seguente, ad esempio, crea un oggetto `SqlCacheDependency` in base alla tabella `Products` del database Northwind:</span><span class="sxs-lookup"><span data-stu-id="9deab-264">The following code, for example, creates a `SqlCacheDependency` object based on the Northwind database s `Products` table:</span></span>

[!code-csharp[Main](using-sql-cache-dependencies-cs/samples/sample10.cs)]

<span data-ttu-id="9deab-265">I due parametri di input per il costruttore `SqlCacheDependency` s sono rispettivamente i nomi di database e di tabella.</span><span class="sxs-lookup"><span data-stu-id="9deab-265">The two input parameters to the `SqlCacheDependency` s constructor are the database and table names, respectively.</span></span> <span data-ttu-id="9deab-266">Analogamente alla proprietà `SqlCacheDependency` di ObjectDataSource, il nome del database utilizzato corrisponde al valore specificato nell'attributo `name` dell'elemento `<add>` in `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="9deab-266">Like with the ObjectDataSource s `SqlCacheDependency` property, the database name used is the same as the value specified in the `name` attribute of the `<add>` element in `Web.config`.</span></span> <span data-ttu-id="9deab-267">Il nome della tabella è il nome effettivo della tabella di database.</span><span class="sxs-lookup"><span data-stu-id="9deab-267">The table name is the actual name of the database table.</span></span>

<span data-ttu-id="9deab-268">Per associare un `SqlCacheDependency` a un elemento aggiunto alla cache di dati, usare uno degli overload del metodo `Insert` che accettano una dipendenza.</span><span class="sxs-lookup"><span data-stu-id="9deab-268">To associate a `SqlCacheDependency` with an item added to the data cache, use one of the `Insert` method overloads that accepts a dependency.</span></span> <span data-ttu-id="9deab-269">Il codice seguente aggiunge *valore* alla cache dei dati per una durata indefinita, ma lo associa a un `SqlCacheDependency` nella tabella `Products`.</span><span class="sxs-lookup"><span data-stu-id="9deab-269">The following code adds *value* to the data cache for an indefinite duration, but associates it with a `SqlCacheDependency` on the `Products` table.</span></span> <span data-ttu-id="9deab-270">In breve, il *valore* rimarrà nella cache fino a quando non viene rimosso a causa di vincoli di memoria o perché il sistema di polling ha rilevato che la tabella `Products` è cambiata dopo che è stata memorizzata nella cache.</span><span class="sxs-lookup"><span data-stu-id="9deab-270">In short, *value* will remain in the cache until it is evicted due to memory constraints or because the polling system has detected that the `Products` table has changed since it was cached.</span></span>

[!code-csharp[Main](using-sql-cache-dependencies-cs/samples/sample11.cs)]

<span data-ttu-id="9deab-271">La classe `ProductsCL` del livello di memorizzazione nella cache attualmente memorizza nella cache i dati della tabella `Products` utilizzando una scadenza di 60 secondi basata sul tempo.</span><span class="sxs-lookup"><span data-stu-id="9deab-271">The Caching Layer s `ProductsCL` class currently caches data from the `Products` table using a time-based expiry of 60 seconds.</span></span> <span data-ttu-id="9deab-272">Let s Aggiorna questa classe in modo che utilizzi invece le dipendenze della cache SQL.</span><span class="sxs-lookup"><span data-stu-id="9deab-272">Let s update this class so that it uses SQL cache dependencies instead.</span></span> <span data-ttu-id="9deab-273">Il metodo `ProductsCL` Class s `AddCacheItem`, che è responsabile dell'aggiunta dei dati alla cache, attualmente contiene il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="9deab-273">The `ProductsCL` class s `AddCacheItem` method, which is responsible for adding the data to the cache, currently contains the following code:</span></span>

[!code-csharp[Main](using-sql-cache-dependencies-cs/samples/sample12.cs)]

<span data-ttu-id="9deab-274">Aggiornare questo codice per usare un oggetto `SqlCacheDependency` anziché la dipendenza della cache `MasterCacheKeyArray`:</span><span class="sxs-lookup"><span data-stu-id="9deab-274">Update this code to use a `SqlCacheDependency` object instead of the `MasterCacheKeyArray` cache dependency:</span></span>

[!code-csharp[Main](using-sql-cache-dependencies-cs/samples/sample13.cs)]

<span data-ttu-id="9deab-275">Per testare questa funzionalità, aggiungere un controllo GridView alla pagina sotto la `ProductsDeclarative` GridView esistente.</span><span class="sxs-lookup"><span data-stu-id="9deab-275">To test this functionality, add a GridView to the page beneath the existing `ProductsDeclarative` GridView.</span></span> <span data-ttu-id="9deab-276">Impostare questo nuovo `ID` GridView su `ProductsProgrammatic` e, tramite il relativo smart tag, associarlo a un nuovo ObjectDataSource denominato `ProductsDataSourceProgrammatic`.</span><span class="sxs-lookup"><span data-stu-id="9deab-276">Set this new GridView s `ID` to `ProductsProgrammatic` and, through its smart tag, bind it to a new ObjectDataSource named `ProductsDataSourceProgrammatic`.</span></span> <span data-ttu-id="9deab-277">Configurare ObjectDataSource per l'utilizzo della classe `ProductsCL`, impostando rispettivamente gli elenchi a discesa nelle schede seleziona e aggiorna su `GetProducts` e `UpdateProduct`.</span><span class="sxs-lookup"><span data-stu-id="9deab-277">Configure the ObjectDataSource to use the `ProductsCL` class, setting the drop-down lists in the SELECT and UPDATE tabs to `GetProducts` and `UpdateProduct`, respectively.</span></span>

<span data-ttu-id="9deab-278">[![configurare ObjectDataSource per l'utilizzo della classe ProductsCL](using-sql-cache-dependencies-cs/_static/image11.gif)](using-sql-cache-dependencies-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="9deab-278">[![Configure the ObjectDataSource to Use the ProductsCL Class](using-sql-cache-dependencies-cs/_static/image11.gif)](using-sql-cache-dependencies-cs/_static/image15.png)</span></span>

<span data-ttu-id="9deab-279">**Figura 11**: configurare ObjectDataSource per l'uso della classe `ProductsCL` ([fare clic per visualizzare l'immagine con dimensioni complete](using-sql-cache-dependencies-cs/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="9deab-279">**Figure 11**: Configure the ObjectDataSource to Use the `ProductsCL` Class ([Click to view full-size image](using-sql-cache-dependencies-cs/_static/image16.png))</span></span>

<span data-ttu-id="9deab-280">[![selezionare il metodo GetProducts dall'elenco a discesa Seleziona scheda s](using-sql-cache-dependencies-cs/_static/image12.gif)](using-sql-cache-dependencies-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="9deab-280">[![Select the GetProducts Method from the SELECT Tab s Drop-Down List](using-sql-cache-dependencies-cs/_static/image12.gif)](using-sql-cache-dependencies-cs/_static/image17.png)</span></span>

<span data-ttu-id="9deab-281">**Figura 12**: selezionare il metodo `GetProducts` dall'elenco a discesa Seleziona scheda ([fare clic per visualizzare l'immagine con dimensioni complete](using-sql-cache-dependencies-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="9deab-281">**Figure 12**: Select the `GetProducts` Method from the SELECT Tab s Drop-Down List ([Click to view full-size image](using-sql-cache-dependencies-cs/_static/image18.png))</span></span>

<span data-ttu-id="9deab-282">[![scegliere il metodo UpdateProduct dall'elenco a discesa scheda aggiornamento](using-sql-cache-dependencies-cs/_static/image13.gif)](using-sql-cache-dependencies-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="9deab-282">[![Choose the UpdateProduct Method from the UPDATE Tab s Drop-Down List](using-sql-cache-dependencies-cs/_static/image13.gif)](using-sql-cache-dependencies-cs/_static/image19.png)</span></span>

<span data-ttu-id="9deab-283">**Figura 13**: scegliere il metodo UpdateProduct dall'elenco a discesa scheda aggiornamento ([fare clic per visualizzare l'immagine con dimensioni complete](using-sql-cache-dependencies-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="9deab-283">**Figure 13**: Choose the UpdateProduct Method from the UPDATE Tab s Drop-Down List ([Click to view full-size image](using-sql-cache-dependencies-cs/_static/image20.png))</span></span>

<span data-ttu-id="9deab-284">Dopo aver completato la configurazione guidata origine dati, Visual Studio creerà i BoundField e CheckBoxFields in GridView per ogni campo dati.</span><span class="sxs-lookup"><span data-stu-id="9deab-284">After completing the Configure Data Source wizard, Visual Studio will create BoundFields and CheckBoxFields in the GridView for each of the data fields.</span></span> <span data-ttu-id="9deab-285">Analogamente al primo GridView aggiunto a questa pagina, rimuovere tutti i campi, ma `ProductName`, `CategoryName`e `UnitPrice`, quindi formattare i campi in base alle esigenze.</span><span class="sxs-lookup"><span data-stu-id="9deab-285">Like with the first GridView added to this page, remove all fields but `ProductName`, `CategoryName`, and `UnitPrice`, and format these fields as you see fit.</span></span> <span data-ttu-id="9deab-286">Dallo smart tag GridView s selezionare le caselle di controllo Abilita paging, Abilita ordinamento e Abilita modifica.</span><span class="sxs-lookup"><span data-stu-id="9deab-286">From the GridView s smart tag, check the Enable Paging, Enable Sorting, and Enable Editing checkboxes.</span></span> <span data-ttu-id="9deab-287">Come per il `ProductsDataSourceDeclarative` ObjectDataSource, Visual Studio imposterà la proprietà `ProductsDataSourceProgrammatic` ObjectDataSource s `OldValuesParameterFormatString` su `original_{0}`.</span><span class="sxs-lookup"><span data-stu-id="9deab-287">As with the `ProductsDataSourceDeclarative` ObjectDataSource, Visual Studio will set the `ProductsDataSourceProgrammatic` ObjectDataSource s `OldValuesParameterFormatString` property to `original_{0}`.</span></span> <span data-ttu-id="9deab-288">Per il corretto funzionamento della funzionalità di modifica di GridView, impostare nuovamente questa proprietà su `{0}` (oppure rimuovere completamente l'assegnazione della proprietà dalla sintassi dichiarativa).</span><span class="sxs-lookup"><span data-stu-id="9deab-288">In order for the GridView s edit feature to work properly, set this property back to `{0}` (or remove the property assignment from the declarative syntax altogether).</span></span>

<span data-ttu-id="9deab-289">Al termine di queste attività, il markup dichiarativo GridView e ObjectDataSource risultante sarà simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="9deab-289">After completing these tasks, the resulting GridView and ObjectDataSource declarative markup should look like the following:</span></span>

[!code-aspx[Main](using-sql-cache-dependencies-cs/samples/sample14.aspx)]

<span data-ttu-id="9deab-290">Per testare la dipendenza della cache SQL nel livello di memorizzazione nella cache, impostare un punto di interruzione nel metodo `ProductCL` Class s `AddCacheItem` e quindi avviare il debug.</span><span class="sxs-lookup"><span data-stu-id="9deab-290">To test the SQL cache dependency in the Caching Layer set a breakpoint in the `ProductCL` class s `AddCacheItem` method and then start debugging.</span></span> <span data-ttu-id="9deab-291">Quando si visita la prima volta `SqlCacheDependencies.aspx`, il punto di interruzione deve essere raggiunto quando i dati vengono richiesti per la prima volta e inseriti nella cache.</span><span class="sxs-lookup"><span data-stu-id="9deab-291">When you first visit `SqlCacheDependencies.aspx`, the breakpoint should be hit as the data is requested for the first time and placed into the cache.</span></span> <span data-ttu-id="9deab-292">Passare quindi a un'altra pagina in GridView o ordinare una delle colonne.</span><span class="sxs-lookup"><span data-stu-id="9deab-292">Next, move to another page in the GridView or sort one of the columns.</span></span> <span data-ttu-id="9deab-293">In questo modo GridView esegue nuovamente la query dei dati, ma i dati devono trovarsi nella cache poiché la tabella di database `Products` non è stata modificata.</span><span class="sxs-lookup"><span data-stu-id="9deab-293">This causes the GridView to requery its data, but the data should be found in the cache since the `Products` database table has not been modified.</span></span> <span data-ttu-id="9deab-294">Se i dati non vengono rilevati più volte nella cache, verificare che nel computer sia disponibile una quantità di memoria sufficiente e riprovare.</span><span class="sxs-lookup"><span data-stu-id="9deab-294">If the data is repeatedly not found in the cache, make sure there is sufficient memory available on your computer and try again.</span></span>

<span data-ttu-id="9deab-295">Dopo aver eseguito il paging di alcune pagine del GridView, aprire una seconda finestra del browser e passare all'esercitazione nozioni di base nella sezione modifica, inserimento ed eliminazione (`~/EditInsertDelete/Basics.aspx`).</span><span class="sxs-lookup"><span data-stu-id="9deab-295">After paging through a few pages of the GridView, open a second browser window and navigate to the Basics tutorial in the Editing, Inserting, and Deleting section (`~/EditInsertDelete/Basics.aspx`).</span></span> <span data-ttu-id="9deab-296">Aggiornare un record dalla tabella Products e quindi, dalla prima finestra del browser, visualizzare una nuova pagina o fare clic su una delle intestazioni di ordinamento.</span><span class="sxs-lookup"><span data-stu-id="9deab-296">Update a record from the Products table and then, from the first browser window, view a new page or click on one of the sorting headers.</span></span>

<span data-ttu-id="9deab-297">In questo scenario verrà visualizzato uno dei due elementi seguenti: il punto di interruzione verrà raggiunto, a indicare che i dati memorizzati nella cache sono stati eliminati a causa della modifica del database. in alternativa, il punto di interruzione non viene raggiunto, vale a dire che `SqlCacheDependencies.aspx` Visualizza i dati non aggiornati.</span><span class="sxs-lookup"><span data-stu-id="9deab-297">In this scenario you will see one of two things: either the breakpoint will be hit, indicating that the cached data was evicted due to the change in the database; or, the breakpoint will not be hit, meaning that `SqlCacheDependencies.aspx` is now showing stale data.</span></span> <span data-ttu-id="9deab-298">Se il punto di interruzione non viene raggiunto, è probabile che il servizio di polling non sia stato ancora generato dopo che i dati sono stati modificati.</span><span class="sxs-lookup"><span data-stu-id="9deab-298">If the breakpoint is not hit, it is likely because the polling service has not yet fired since the data was changed.</span></span> <span data-ttu-id="9deab-299">Tenere presente che il servizio di polling sta controllando le modifiche apportate alla tabella `Products` ogni `pollTime` millisecondi, pertanto si verifica un ritardo tra il momento in cui i dati sottostanti vengono aggiornati e quando i dati memorizzati nella cache vengono rimossi.</span><span class="sxs-lookup"><span data-stu-id="9deab-299">Remember that the polling service is checking for changes to the `Products` table every `pollTime` milliseconds, so there is a delay between when the underlying data is updated and when the cached data is evicted.</span></span>

> [!NOTE]
> <span data-ttu-id="9deab-300">Questo ritardo è più probabile che venga visualizzato quando si modifica uno dei prodotti tramite GridView in `SqlCacheDependencies.aspx`.</span><span class="sxs-lookup"><span data-stu-id="9deab-300">This delay is more likely to appear when editing one of the products through the GridView in `SqlCacheDependencies.aspx`.</span></span> <span data-ttu-id="9deab-301">Nell'esercitazione sulla [memorizzazione dei dati nella cache nell'architettura](caching-data-in-the-architecture-cs.md) è stata aggiunta la dipendenza della cache `MasterCacheKeyArray` per assicurarsi che i dati modificati tramite il metodo della classe `ProductsCL` `UpdateProduct` siano stati rimossi dalla cache.</span><span class="sxs-lookup"><span data-stu-id="9deab-301">In the [Caching Data in the Architecture](caching-data-in-the-architecture-cs.md) tutorial we added the `MasterCacheKeyArray` cache dependency to ensure that the data being edited through the `ProductsCL` class s `UpdateProduct` method was evicted from the cache.</span></span> <span data-ttu-id="9deab-302">Tuttavia, questa dipendenza della cache è stata sostituita quando si modifica il metodo `AddCacheItem` in precedenza in questo passaggio e pertanto la classe `ProductsCL` continuerà a mostrare i dati memorizzati nella cache fino a quando il sistema di polling annota la modifica alla tabella `Products`.</span><span class="sxs-lookup"><span data-stu-id="9deab-302">However, we replaced this cache dependency when modifying the `AddCacheItem` method earlier in this step and therefore the `ProductsCL` class will continue to show the cached data until the polling system notes the change to the `Products` table.</span></span> <span data-ttu-id="9deab-303">Nel passaggio 7 verrà illustrato come reintrodurre la dipendenza della cache `MasterCacheKeyArray`.</span><span class="sxs-lookup"><span data-stu-id="9deab-303">We'll see how to reintroduce the `MasterCacheKeyArray` cache dependency in Step 7.</span></span>

## <a name="step-7-associating-multiple-dependencies-with-a-cached-item"></a><span data-ttu-id="9deab-304">Passaggio 7: associazione di più dipendenze a un elemento memorizzato nella cache</span><span class="sxs-lookup"><span data-stu-id="9deab-304">Step 7: Associating Multiple Dependencies with a Cached Item</span></span>

<span data-ttu-id="9deab-305">Ricordare che la dipendenza della cache `MasterCacheKeyArray` viene utilizzata per garantire che *tutti* i dati correlati al prodotto vengano rimossi dalla cache quando viene aggiornato un singolo elemento associato al suo interno.</span><span class="sxs-lookup"><span data-stu-id="9deab-305">Recall that the `MasterCacheKeyArray` cache dependency is used to ensure that *all* product-related data is evicted from the cache when any single item associated within it is updated.</span></span> <span data-ttu-id="9deab-306">Il metodo `GetProductsByCategoryID(categoryID)`, ad esempio, memorizza nella cache `ProductsDataTables` istanze per ogni valore *CategoryID* univoco.</span><span class="sxs-lookup"><span data-stu-id="9deab-306">For example, the `GetProductsByCategoryID(categoryID)` method caches `ProductsDataTables` instances for each unique *categoryID* value.</span></span> <span data-ttu-id="9deab-307">Se uno di questi oggetti viene eliminato, la dipendenza della cache `MasterCacheKeyArray` garantisce che vengano rimossi anche gli altri.</span><span class="sxs-lookup"><span data-stu-id="9deab-307">If one of these objects is evicted, the `MasterCacheKeyArray` cache dependency ensures that the others are also removed.</span></span> <span data-ttu-id="9deab-308">Senza questa dipendenza della cache, quando i dati memorizzati nella cache vengono modificati, esiste la possibilità che altri dati del prodotto memorizzati nella cache non siano aggiornati.</span><span class="sxs-lookup"><span data-stu-id="9deab-308">Without this cache dependency, when the cached data is modified the possibility exists that other cached product data may be out of date.</span></span> <span data-ttu-id="9deab-309">Di conseguenza, è importante mantenere la dipendenza della cache `MasterCacheKeyArray` quando si usano le dipendenze della cache SQL.</span><span class="sxs-lookup"><span data-stu-id="9deab-309">Consequently, it s important that we maintain the `MasterCacheKeyArray` cache dependency when using SQL cache dependencies.</span></span> <span data-ttu-id="9deab-310">Tuttavia, il metodo `Insert` della cache dei dati consente solo un singolo oggetto dipendenza.</span><span class="sxs-lookup"><span data-stu-id="9deab-310">However, the data cache s `Insert` method only allows for a single dependency object.</span></span>

<span data-ttu-id="9deab-311">Inoltre, quando si utilizzano le dipendenze della cache SQL, potrebbe essere necessario associare più tabelle di database come dipendenze.</span><span class="sxs-lookup"><span data-stu-id="9deab-311">Furthermore, when working with SQL cache dependencies we may need to associate multiple database tables as dependencies.</span></span> <span data-ttu-id="9deab-312">Ad esempio, il `ProductsDataTable` memorizzato nella cache della classe `ProductsCL` contiene i nomi di categoria e Supplier per ogni prodotto, ma il metodo `AddCacheItem` usa solo una dipendenza da `Products`.</span><span class="sxs-lookup"><span data-stu-id="9deab-312">For example, the `ProductsDataTable` cached in the `ProductsCL` class contains the category and supplier names for each product, but the `AddCacheItem` method only uses a dependency on `Products`.</span></span> <span data-ttu-id="9deab-313">In questa situazione, se l'utente aggiorna il nome di una categoria o di un fornitore, i dati del prodotto memorizzati nella cache rimarranno nella cache e non saranno aggiornati.</span><span class="sxs-lookup"><span data-stu-id="9deab-313">In this situation, if the user updates the name of a category or supplier, the cached product data will remain in the cache and be out of date.</span></span> <span data-ttu-id="9deab-314">Pertanto, si desidera che i dati del prodotto memorizzati nella cache dipendano non solo dalla tabella `Products`, ma anche dalle tabelle `Categories` e `Suppliers`.</span><span class="sxs-lookup"><span data-stu-id="9deab-314">Therefore, we want to make the cached product data dependent on not only the `Products` table, but on the `Categories` and `Suppliers` tables as well.</span></span>

<span data-ttu-id="9deab-315">La [classe`AggregateCacheDependency`](https://msdn.microsoft.com/library/system.web.caching.aggregatecachedependency.aspx) fornisce un mezzo per associare più dipendenze a un elemento della cache.</span><span class="sxs-lookup"><span data-stu-id="9deab-315">The [`AggregateCacheDependency` class](https://msdn.microsoft.com/library/system.web.caching.aggregatecachedependency.aspx) provides a means for associating multiple dependencies with a cache item.</span></span> <span data-ttu-id="9deab-316">Per iniziare, creare un'istanza di `AggregateCacheDependency`.</span><span class="sxs-lookup"><span data-stu-id="9deab-316">Start by creating an `AggregateCacheDependency` instance.</span></span> <span data-ttu-id="9deab-317">Aggiungere quindi il set di dipendenze usando il metodo `AggregateCacheDependency` s `Add`.</span><span class="sxs-lookup"><span data-stu-id="9deab-317">Next, add the set of dependencies using the `AggregateCacheDependency` s `Add` method.</span></span> <span data-ttu-id="9deab-318">Quando si inserisce l'elemento nella cache dei dati in seguito, passare l'istanza di `AggregateCacheDependency`.</span><span class="sxs-lookup"><span data-stu-id="9deab-318">When inserting the item into the data cache thereafter, pass in the `AggregateCacheDependency` instance.</span></span> <span data-ttu-id="9deab-319">Quando *una* delle dipendenze dell'istanza di `AggregateCacheDependency` viene modificata, l'elemento memorizzato nella cache verrà rimosso.</span><span class="sxs-lookup"><span data-stu-id="9deab-319">When *any* of the `AggregateCacheDependency` instance s dependencies change, the cached item will be evicted.</span></span>

<span data-ttu-id="9deab-320">Di seguito è riportato il codice aggiornato per il metodo di `AddCacheItem` della classe `ProductsCL`.</span><span class="sxs-lookup"><span data-stu-id="9deab-320">The following shows the updated code for the `ProductsCL` class s `AddCacheItem` method.</span></span> <span data-ttu-id="9deab-321">Il metodo crea la dipendenza della cache `MasterCacheKeyArray` insieme agli oggetti `SqlCacheDependency` per le tabelle `Products`, `Categories`e `Suppliers`.</span><span class="sxs-lookup"><span data-stu-id="9deab-321">The method creates the `MasterCacheKeyArray` cache dependency along with `SqlCacheDependency` objects for the `Products`, `Categories`, and `Suppliers` tables.</span></span> <span data-ttu-id="9deab-322">Tutti questi oggetti vengono combinati in un oggetto `AggregateCacheDependency` denominato `aggregateDependencies`, che viene quindi passato al metodo `Insert`.</span><span class="sxs-lookup"><span data-stu-id="9deab-322">These are all combined into one `AggregateCacheDependency` object named `aggregateDependencies`, which is then passed into the `Insert` method.</span></span>

[!code-csharp[Main](using-sql-cache-dependencies-cs/samples/sample15.cs)]

<span data-ttu-id="9deab-323">Testare questo nuovo codice. Ora le modifiche apportate alle tabelle `Products`, `Categories`o `Suppliers` provocano la rimozione dei dati memorizzati nella cache.</span><span class="sxs-lookup"><span data-stu-id="9deab-323">Test this new code out. Now changes to the `Products`, `Categories`, or `Suppliers` tables cause the cached data to be evicted.</span></span> <span data-ttu-id="9deab-324">Inoltre, il metodo `ProductsCL` Class s `UpdateProduct`, che viene chiamato durante la modifica di un prodotto tramite GridView, rimuove la dipendenza della cache `MasterCacheKeyArray`, causando la rimozione della `ProductsDataTable` memorizzata nella cache e la ripetizione del recupero dei dati alla successiva richiesta.</span><span class="sxs-lookup"><span data-stu-id="9deab-324">Moreover, the `ProductsCL` class s `UpdateProduct` method, which is called when editing a product through the GridView, evicts the `MasterCacheKeyArray` cache dependency, which causes the cached `ProductsDataTable` to be evicted and the data to be re-retrieved on the next request.</span></span>

> [!NOTE]
> <span data-ttu-id="9deab-325">Le dipendenze della cache SQL possono essere utilizzate anche con la [memorizzazione nella cache di output](https://quickstarts.asp.net/QuickStartv20/aspnet/doc/caching/output.aspx).</span><span class="sxs-lookup"><span data-stu-id="9deab-325">SQL cache dependencies can also be used with [output caching](https://quickstarts.asp.net/QuickStartv20/aspnet/doc/caching/output.aspx).</span></span> <span data-ttu-id="9deab-326">Per una dimostrazione di questa funzionalità, vedere [uso della memorizzazione nella cache dell'output di ASP.NET con SQL Server](https://msdn.microsoft.com/library/e3w8402y(VS.80).aspx).</span><span class="sxs-lookup"><span data-stu-id="9deab-326">For a demonstration of this functionality, see: [Using ASP.NET Output Caching with SQL Server](https://msdn.microsoft.com/library/e3w8402y(VS.80).aspx).</span></span>

## <a name="summary"></a><span data-ttu-id="9deab-327">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="9deab-327">Summary</span></span>

<span data-ttu-id="9deab-328">Quando si memorizzano nella cache i dati del database, i dati rimarranno idealmente nella cache fino a quando non vengono modificati nel database.</span><span class="sxs-lookup"><span data-stu-id="9deab-328">When caching database data, the data will ideally remain in the cache until it is modified in the database.</span></span> <span data-ttu-id="9deab-329">Con ASP.NET 2,0, le dipendenze della cache SQL possono essere create e usate in scenari dichiarativi e programmatici.</span><span class="sxs-lookup"><span data-stu-id="9deab-329">With ASP.NET 2.0, SQL cache dependencies can be created and used in both declarative and programmatic scenarios.</span></span> <span data-ttu-id="9deab-330">Uno dei problemi di questo approccio consiste nell'individuare il momento in cui i dati sono stati modificati.</span><span class="sxs-lookup"><span data-stu-id="9deab-330">One of the challenges with this approach is in discovering when the data has been modified.</span></span> <span data-ttu-id="9deab-331">Le versioni complete di Microsoft SQL Server 2005 forniscono funzionalità di notifica che consentono di avvisare un'applicazione quando viene modificato il risultato di una query.</span><span class="sxs-lookup"><span data-stu-id="9deab-331">The full versions of Microsoft SQL Server 2005 provide notification capabilities that can alert an application when a query result has changed.</span></span> <span data-ttu-id="9deab-332">Per l'edizione Express di SQL Server 2005 e versioni precedenti di SQL Server, è necessario utilizzare un sistema di polling.</span><span class="sxs-lookup"><span data-stu-id="9deab-332">For the Express Edition of SQL Server 2005 and older versions of SQL Server, a polling system must be used instead.</span></span> <span data-ttu-id="9deab-333">Fortunatamente, la configurazione dell'infrastruttura di polling necessaria è piuttosto semplice.</span><span class="sxs-lookup"><span data-stu-id="9deab-333">Fortunately, setting up the necessary polling infrastructure is fairly straightforward.</span></span>

<span data-ttu-id="9deab-334">Buona programmazione!</span><span class="sxs-lookup"><span data-stu-id="9deab-334">Happy Programming!</span></span>

## <a name="further-reading"></a><span data-ttu-id="9deab-335">Ulteriori informazioni</span><span class="sxs-lookup"><span data-stu-id="9deab-335">Further Reading</span></span>

<span data-ttu-id="9deab-336">Per ulteriori informazioni sugli argomenti trattati in questa esercitazione, fare riferimento alle risorse seguenti:</span><span class="sxs-lookup"><span data-stu-id="9deab-336">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="9deab-337">Uso delle notifiche delle query in Microsoft SQL Server 2005</span><span class="sxs-lookup"><span data-stu-id="9deab-337">Using Query Notifications in Microsoft SQL Server 2005</span></span>](https://msdn.microsoft.com/library/ms175110.aspx)
- [<span data-ttu-id="9deab-338">Creazione di una notifica di query</span><span class="sxs-lookup"><span data-stu-id="9deab-338">Creating a Query Notification</span></span>](https://msdn.microsoft.com/library/ms188669.aspx)
- <span data-ttu-id="9deab-339">[Memorizzazione nella cache in ASP.NET con la classe `SqlCacheDependency`](https://msdn.microsoft.com/library/ms178604(VS.80).aspx)</span><span class="sxs-lookup"><span data-stu-id="9deab-339">[Caching in ASP.NET with the `SqlCacheDependency` Class](https://msdn.microsoft.com/library/ms178604(VS.80).aspx)</span></span>
- <span data-ttu-id="9deab-340">[Strumento di registrazione SQL Server ASP.NET (`aspnet_regsql.exe`)](https://msdn.microsoft.com/library/ms229862(vs.80).aspx)</span><span class="sxs-lookup"><span data-stu-id="9deab-340">[ASP.NET SQL Server Registration Tool (`aspnet_regsql.exe`)](https://msdn.microsoft.com/library/ms229862(vs.80).aspx)</span></span>
- [<span data-ttu-id="9deab-341">Panoramica di `SqlCacheDependency`</span><span class="sxs-lookup"><span data-stu-id="9deab-341">Overview of `SqlCacheDependency`</span></span>](http://www.aspnetresources.com/blog/sql_cache_depedency_overview.aspx)

## <a name="about-the-author"></a><span data-ttu-id="9deab-342">Informazioni sull'autore</span><span class="sxs-lookup"><span data-stu-id="9deab-342">About the Author</span></span>

<span data-ttu-id="9deab-343">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autore di sette ASP/ASP. NET Books e fondatore di [4GuysFromRolla.com](http://www.4guysfromrolla.com), collabora con le tecnologie Web Microsoft a partire da 1998.</span><span class="sxs-lookup"><span data-stu-id="9deab-343">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="9deab-344">Scott lavora come consulente, trainer e writer indipendenti.</span><span class="sxs-lookup"><span data-stu-id="9deab-344">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="9deab-345">Il suo ultimo libro è [*Sams Teach Yourself ASP.NET 2,0 in 24 ore*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="9deab-345">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="9deab-346">Può essere raggiunto in [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="9deab-346">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="9deab-347">o tramite il suo Blog, disponibile in [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="9deab-347">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="9deab-348">Grazie speciale</span><span class="sxs-lookup"><span data-stu-id="9deab-348">Special Thanks To</span></span>

<span data-ttu-id="9deab-349">Questa serie di esercitazioni è stata esaminata da molti revisori utili.</span><span class="sxs-lookup"><span data-stu-id="9deab-349">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="9deab-350">I revisori del lead per questa esercitazione erano Marko Rangel, Teresa Murphy e Hilton Giesenow.</span><span class="sxs-lookup"><span data-stu-id="9deab-350">Lead reviewers for this tutorial were Marko Rangel, Teresa Murphy, and Hilton Giesenow.</span></span> <span data-ttu-id="9deab-351">Sei interessato a esaminare i miei prossimi articoli MSDN?</span><span class="sxs-lookup"><span data-stu-id="9deab-351">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="9deab-352">In tal caso, rilasciare una riga in [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="9deab-352">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="9deab-353">[Precedente](caching-data-at-application-startup-cs.md)
> [Successivo](caching-data-with-the-objectdatasource-vb.md)</span><span class="sxs-lookup"><span data-stu-id="9deab-353">[Previous](caching-data-at-application-startup-cs.md)
[Next](caching-data-with-the-objectdatasource-vb.md)</span></span>
